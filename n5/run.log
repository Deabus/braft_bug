WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:03:50.514865 18703 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:03:50.655128 18703 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:03:50.656627 18703 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:03:50.890735 18703 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:03:50.905913 18703 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:03:50.907028 18703 log.cpp:699] ./data/log is empty
I1218 01:03:50.961431 18703 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 50675
I1218 01:03:50.989800 18703 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:03:51.036350 18703 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:03:51.055056 18703 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 28085
I1218 01:03:51.069145 18703 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:03:51.103475 18703 server.cpp:509] Atomic service is running on 0.0.0.0:8700
W1218 01:04:00.308579 18758 cli_service.cpp:158] Receive set_peer to Atomic:10.1.5.3:8700:0 from 10.1.5.3:47426
I1218 01:04:00.329290 18758 node.cpp:909] node Atomic:10.1.5.3:8700:0 reset_peers to 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0 from empty
I1218 01:04:00.377199 18758 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 2 votedfor 0.0.0.0:0:0 time: 32368
I1218 01:04:00.568586 18756 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:04:00.569514 18756 snapshot_executor.cpp:154] node Atomic:10.1.5.3:8700:0 the gap between fsm applied index 0 and last_snapshot_index 0 is less than 1, will clear bufferred logs and return success
I1218 01:04:05.205615 18758 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.1.3:8700:0 in term 3 current_term 2 granted 1 rejected_by_lease 0
I1218 01:04:05.304657 18758 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.1.3:8700:0 in term 3 current_term 2 log_is_ok 1 votable_time 0
I1218 01:04:05.368839 18758 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 3 votedfor 0.0.0.0:0:0 time: 62881
I1218 01:04:05.422063 18758 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 3 votedfor 10.1.1.3:8700:0 time: 42465
I1218 01:04:05.423722 18767 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 3 current_term 3 granted 1 rejected_by_lease 0
I1218 01:04:05.536289 18754 node.cpp:1587] node Atomic:10.1.5.3:8700:0 term 3 start pre_vote
I1218 01:04:05.661990 18767 server.cpp:312] Node start following { leader_id=10.1.1.3:8700:0, term=3, status=Follower receives message from new leader with the same term.}
I1218 01:04:05.712597 18754 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 4 current_term 3 granted 1 rejected_by_lease 0
I1218 01:04:05.771817 18745 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000001' with fd=10
W1218 01:04:05.772570 18757 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.2.3:8700:0 ctx_version 4 current_ctx_version 6
W1218 01:04:05.774932 18757 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.1.3:8700:0 ctx_version 4 current_ctx_version 6
W1218 01:04:05.784935 18738 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.3.3:8700:0 ctx_version 4 current_ctx_version 6
W1218 01:04:05.816470 18735 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.4.3:8700:0 ctx_version 4 current_ctx_version 6
I1218 01:04:06.023137 18747 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:04:30.581877 18735 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:04:30.723130 18735 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000001
I1218 01:04:30.731120 18735 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000001
I1218 01:04:30.744130 18735 snapshot_executor.cpp:234] node Atomic:10.1.5.3:8700:0 snapshot_save_done, last_included_index=1 last_included_term=3
I1218 01:04:38.746757 18757 node.cpp:1587] node Atomic:10.1.5.3:8700:0 term 3 start pre_vote
I1218 01:04:38.776750 18767 server.cpp:309] Node stops following { leader_id=10.1.1.3:8700:0, term=3, status=Lost connection from leader 10.1.1.3:8700:0}
W1218 01:04:39.383241 18748 input_messenger.cpp:381] Fail to read from Socket{id=8589934964 fd=8 addr=10.1.1.3:8700:38272} (0x6310000b4800): Connection reset by peer [104]
W1218 01:04:39.404376 18754 input_messenger.cpp:381] Fail to read from Socket{id=279 fd=7 addr=10.1.1.3:49426:8700} (0x63100008c800): Connection reset by peer [104]
W1218 01:04:39.460309 18748 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.1.3:8700:0 error: [E104]Fail to read from Socket{id=8589934964fd=8 addr=10.1.1.3:8700:38272} (0x0x6310000b4800): Connection reset by peer
W1218 01:04:39.556978 18761 input_messenger.cpp:381] Fail to read from Socket{id=284 fd=12 addr=10.1.4.3:8700:51402} (0x63100008d5c0): Connection reset by peer [104]
W1218 01:04:39.570322 18761 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.4.3:8700:0 error: [E104]Fail to read from Socket{id=284fd=12 addr=10.1.4.3:8700:51402} (0x0x63100008d5c0): Connection reset by peer
W1218 01:04:39.944839 18767 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.2.3:8700:0 error: [E1014]Got EOF of Socket{id=280fd=9 addr=10.1.2.3:8700:37804} (0x0x63100008cac0)
W1218 01:04:44.246243 18735 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.3.3:8700:0 error: [E1008]Reached timeout=5000ms @10.1.3.3:8700
I1218 01:04:44.710960 18754 node.cpp:1587] node Atomic:10.1.5.3:8700:0 term 3 start pre_vote
W1218 01:04:45.012192 18756 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.1.3:8700:0 error: [E111]Fail to connect Socket{id=8589934871 addr=10.1.1.3:8700} (0x0x63100008c800): Connection refused
W1218 01:04:45.013316 18756 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.2.3:8700:0 error: [E111]Fail to connect Socket{id=8589934875 addr=10.1.2.3:8700} (0x0x63100008d300): Connection refused
W1218 01:04:45.014304 18756 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.4.3:8700:0 error: [E111]Fail to connect Socket{id=381 addr=10.1.4.3:8700} (0x0x6310000b60c0): Connection refused
W1218 01:04:49.946195 18757 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.3.3:8700:0 error: [E1008]Reached timeout=5000ms @10.1.3.3:8700
I1218 01:04:50.884465 18737 node.cpp:1587] node Atomic:10.1.5.3:8700:0 term 3 start pre_vote
W1218 01:04:51.045830 18738 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.4.3:8700:0 error: [E2][10.1.4.3:8700][E2]peer_id not exist
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:04:51.486806 19388 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:04:51.509117 19388 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:04:51.510633 19388 server.cpp:499] Fail to start Server
W1218 01:04:51.516474 18767 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.2.3:8700:0 error: [E2][10.1.2.3:8700][E2]peer_id not exist
I1218 01:04:51.606105 18767 node.cpp:1512] node Atomic:10.1.5.3:8700:0 received PreVoteResponse from 10.1.1.3:8700:0 term 3 granted 1 rejected_by_lease 0 disrupted 0
W1218 01:04:55.924521 18737 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.3.3:8700:0 error: [E1008]Reached timeout=5000ms @10.1.3.3:8700
I1218 01:04:56.012868 18761 node.cpp:1587] node Atomic:10.1.5.3:8700:0 term 3 start pre_vote
I1218 01:04:56.112970 18748 node.cpp:1512] node Atomic:10.1.5.3:8700:0 received PreVoteResponse from 10.1.1.3:8700:0 term 3 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:04:56.163213 18754 node.cpp:1512] node Atomic:10.1.5.3:8700:0 received PreVoteResponse from 10.1.2.3:8700:0 term 3 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:04:56.164546 18754 node.cpp:1653] node Atomic:10.1.5.3:8700:0 term 3 start vote and grant vote self
W1218 01:04:56.245566 18754 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:04:56.256671 18754 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:04:56.260504 18754 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 4 votedfor 10.1.5.3:8700:0 time: 33241
E1218 01:04:56.261927 18754 node.cpp:1711] node Atomic:10.1.5.3:8700:0 fail to set_term_and_votedfor itself when elect_self, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
W1218 01:04:56.300076 18757 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.4.3:8700:0 ctx_version 10 current_ctx_version 11
I1218 01:04:56.396363 18757 node.cpp:1403] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.1.3:8700:0 term 4 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:04:56.570683 18757 node.cpp:1403] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.2.3:8700:0 term 4 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:04:56.571926 18757 node.cpp:1908] node Atomic:10.1.5.3:8700:0 term 4 become leader of group 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0 
I1218 01:04:56.716138 18757 replicator.cpp:143] Replicator=3384434229254@10.1.1.3:8700:0 is started, group Atomic
I1218 01:04:56.973096 18757 replicator.cpp:143] Replicator=3427383902213@10.1.2.3:8700:0 is started, group Atomic
I1218 01:04:56.990343 18757 replicator.cpp:143] Replicator=3358664425478@10.1.3.3:8700:0 is started, group Atomic
I1218 01:04:57.003873 18757 replicator.cpp:143] Replicator=2246267895809@10.1.4.3:8700:0 is started, group Atomic
I1218 01:04:57.127889 18761 replicator.cpp:1258] Replicator=2246267895809 is going to quit
W1218 01:04:57.178165 18756 node.cpp:1370] node Atomic:10.1.5.3:8700:0 received invalid RequestVoteResponse from 10.1.4.3:8700:0 ctx_version 1 current_ctx_version 2
I1218 01:04:57.277103 18761 node.cpp:3310] node Atomic:10.1.5.3:8700:0 reset ConfigurationCtx, new_peers: 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0, old_peers: 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:04:57.308207 18747 replicator.cpp:317] Replicator=3384434229254 is going to quit, group Atomic
I1218 01:04:57.309875 18747 replicator.cpp:1258] Replicator=3384434229254 is going to quit
I1218 01:04:57.323314 18754 server.cpp:296] Node stepped down : Leader receives higher term braft.AppendEntriesResponse from peer:10.1.4.3:8700:0
W1218 01:04:57.379804 18761 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:04:57.675542 18761 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:04:57.699625 18761 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 5 votedfor 0.0.0.0:0:0 time: 297281
I1218 01:04:57.699854 18735 replicator.cpp:317] Replicator=3427383902213 is going to quit, group Atomic
E1218 01:04:57.702330 18761 node.cpp:1816] node Atomic:10.1.5.3:8700:0 fail to set_term_and_votedfor when step_down, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
I1218 01:04:57.740274 18735 replicator.cpp:1258] Replicator=3427383902213 is going to quit
I1218 01:04:58.192860 18759 replicator.cpp:989] Group Atomic Replicator=3358664425478 is going to quit
I1218 01:04:58.288260 18759 replicator.cpp:1258] Replicator=3358664425478 is going to quit
I1218 01:04:58.705657 18747 server.cpp:312] Node start following { leader_id=10.1.4.3:8700:0, term=5, status=Follower receives message from new leader with the same term.}
I1218 01:04:58.708395 18738 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 5 current_term 5 granted 0 rejected_by_lease 0
W1218 01:04:58.715970 18737 node.cpp:2202] node Atomic:10.1.5.3:8700:0 raise term 5 when get last_log_id
I1218 01:04:58.724300 18768 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 5 current_term 5 granted 0 rejected_by_lease 0
W1218 01:04:58.968727 18745 log_manager.cpp:592] Truncating storage to last_index_kept=1
I1218 01:04:59.223752 18757 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:05:00.680807 18745 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
E1218 01:05:00.753363 18745 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:05:00.755076 18745 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 01:05:00.767112 18745 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
W1218 01:05:00.768846 18745 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
I1218 01:05:00.771447 18745 server.cpp:309] Node stops following { leader_id=10.1.4.3:8700:0, term=5, status=Raft node(leader or candidate) is in error.}
W1218 01:05:00.913122 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:01.068600 18768 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.3.3:8700:0 error: [E1008]Reached timeout=5000ms @10.1.3.3:8700
W1218 01:05:01.200754 18767 node.cpp:1454] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.3.3:8700:0 error: [E1008]Reached timeout=5000ms @10.1.3.3:8700
W1218 01:05:01.557014 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:02.122874 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:02.646622 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:03.196923 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:03.748680 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:04.324512 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:04.870714 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:05.392737 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:05.935736 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:06.486801 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:07.040299 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:07.601099 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:08.142894 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:08.701771 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:09.289376 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:09.844779 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR

=================================================================
==19388==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fbba512b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fbba512b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fbba512b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:05:10.500608 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:11.036446 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:11.929862 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:12.580070 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:13.130893 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:13.682723 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:14.237795 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:14.765690 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:15.318917 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:15.856608 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:16.373489 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:16.905999 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:17.465631 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:18.009020 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:18.683671 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:19.319665 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:19.982247 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:20.637001 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:21.261225 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:21.788892 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:22.395251 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:22.929616 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:23.505151 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:24.142716 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:24.810190 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:25.400283 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:25.929538 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:26.480330 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:27.020074 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:27.548614 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:28.097352 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:28.732795 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:29.272876 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:29.819708 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:30.358670 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:30.932257 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:31.731775 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:32.322907 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:33.002133 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:33.637243 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:34.187288 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:34.722198 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:35.989087 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:36.744619 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:37.331877 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:37.886962 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:38.518934 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:39.073405 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:05:45.825332 19959 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:05:45.917729 19959 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:05:46.107517 19959 server.cpp:499] Fail to start Server
W1218 01:05:56.864396 18761 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:57.562726 18735 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:57.899649 18757 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:58.321585 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:58.905289 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:58.971119 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:59.053094 18735 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:59.527818 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:05:59.596818 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:00.160710 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:00.163604 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:00.707950 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:00.757433 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:01.625224 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:01.526193 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:02.032936 18718 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:06:02.256747 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:02.348922 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:02.794049 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:02.971791 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:03.356278 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:03.545274 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:03.949553 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:04.174651 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:04.500335 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:04.780736 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:05.045440 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:05.416682 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:05.577672 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:06.010214 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR

=================================================================
==19959==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
W1218 01:06:06.129195 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f723911209a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f723911209a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f723911209a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:06:06.568296 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:06.684592 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:07.124691 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:07.203238 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:07.667191 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:07.749616 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:08.214773 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:08.307189 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:08.737630 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:08.845940 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:09.368059 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:09.408841 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:09.901809 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:09.940897 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:10.447994 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:10.473516 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:11.016108 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:11.018270 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:11.540159 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:11.604293 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:12.116595 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:12.156777 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:12.661890 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:12.695201 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:13.184279 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:13.244786 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:13.740235 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:13.766327 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:14.686050 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:14.696041 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:15.242153 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:15.284296 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:15.804312 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:15.836405 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:16.344560 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:16.401500 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:16.936033 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:17.139942 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:17.627835 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:17.732810 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:18.167382 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:18.340795 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:18.763012 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:18.953584 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:19.393090 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:19.611651 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:19.953105 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:20.132228 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:20.501922 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:20.693182 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:21.060758 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:06:28.915477 20416 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:06:29.324133 20390 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:06:29.334048 20390 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:06:29.336460 20390 server.cpp:499] Fail to start Server
W1218 01:06:31.136737 18756 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:40.392590 18718 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:06:41.077875 18738 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:41.363723 18748 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:41.485371 18737 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:41.708561 18767 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:41.804013 18738 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:42.489423 18768 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:46.569087 18761 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:46.737284 18738 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:48.275662 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:48.429383 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:48.941190 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:49.235054 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:49.585491 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:50.213850 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:50.280876 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:51.229835 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:51.241101 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:51.781337 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:51.815500 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR

=================================================================
==20390==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
W1218 01:06:52.375871 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:52.379889 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fb2c8b9409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fb2c8b9409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fb2c8b9409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:06:52.956869 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:52.968446 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:06:53.480715 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:07:01.240444 20707 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:07:02.821113 20679 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:07:02.859990 20679 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:07:02.861790 20679 server.cpp:499] Fail to start Server
W1218 01:07:03.863204 18761 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:08.312741 18735 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:09.016177 18747 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:10.073680 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:10.492003 18748 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:10.701172 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:11.053375 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:11.909946 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:11.917485 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:12.490226 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:12.563784 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:13.151196 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:13.167819 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:13.757990 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:13.770079 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:14.308349 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:14.374774 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:14.850039 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:14.899274 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:15.453771 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:15.513051 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:16.000953 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:16.069072 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:16.574182 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:16.600360 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:17.427250 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:17.411221 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:17.976449 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:18.013226 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:23.309222 18718 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:07:25.403277 20868 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:07:25.489881 20868 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:07:25.491706 20868 server.cpp:499] Fail to start Server
W1218 01:07:26.876767 18748 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:27.892522 18745 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR

=================================================================
==20679==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
W1218 01:07:28.145682 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
W1218 01:07:28.476420 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
    #5 0x7f7a23f5509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
W1218 01:07:28.712210 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f7a23f5509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f7a23f5509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:07:29.079488 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:29.300700 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:29.684334 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:29.855839 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:30.243136 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:30.420976 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:30.837224 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:30.952472 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:31.384474 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:32.183633 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:32.220608 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:32.828197 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:32.830339 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:33.444723 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:33.447196 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:34.081449 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:34.125079 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:34.677592 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:34.846158 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:35.214929 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:35.373924 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:35.852116 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:35.913621 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:36.393848 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:36.468441 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:36.948419 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:37.028669 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:37.517848 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:37.566187 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:38.129716 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:38.184602 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:38.746922 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:38.767093 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:39.436055 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:39.438977 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:39.984997 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:40.006903 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:40.598830 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:40.601065 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:41.189514 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:41.193205 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:41.738687 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:41.773092 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:42.284709 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR

=================================================================
W1218 01:07:42.321540 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
==20868==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f3721a4409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f3721a4409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f3721a4409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:07:42.804913 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:42.859169 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:43.345149 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:43.407174 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:43.933146 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:43.935763 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:44.486323 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:44.488591 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:45.026083 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:45.032254 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:45.695294 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:45.682147 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:46.301188 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:46.343133 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:46.844908 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:46.869747 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:47.414894 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:47.417160 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:47.980685 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:48.002665 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:48.529429 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:48.534109 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:49.090813 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:49.093340 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:49.657749 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:49.660315 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:50.201071 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:50.231550 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:50.779186 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:50.781206 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:51.360670 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:51.364876 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:51.953717 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:51.956382 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:52.481565 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:52.484321 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:53.016260 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:53.018330 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:53.564175 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:53.595168 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:54.080900 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:54.154067 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:54.619731 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:54.754724 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:55.148026 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:55.283923 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:55.716423 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:55.875615 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:56.251158 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:56.416412 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:56.801064 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:57.012902 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:57.373967 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:57.536917 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:58.006003 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:58.658921 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:58.687393 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:59.224850 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:59.253350 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:59.876747 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:07:59.912735 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:00.436044 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:00.473778 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:01.052888 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:01.058096 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:01.636500 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:01.639717 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:02.194406 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:02.196671 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:02.758915 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:02.772181 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:03.297180 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:03.301987 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:03.817104 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:03.944222 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:04.416898 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:04.512797 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:05.046834 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:05.114289 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:05.636675 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:05.673967 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:06.174278 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:06.244846 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:06.757082 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:06.804162 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:07.291339 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:07.325309 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:07.863859 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:07.909269 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:08.415686 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:08.592283 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:08.944962 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:09.201668 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:09.493970 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:09.744753 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:10.036422 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:10.296573 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:10.583361 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:10.841495 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:11.140575 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:11.417910 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:11.722703 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:12.133869 18767 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:12.272255 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:13.331420 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:13.283427 18761 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:13.944371 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:14.217367 18768 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:14.511032 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:14.785446 18747 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:15.050377 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:15.365658 18745 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:15.597066 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:15.927736 18757 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:16.123351 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:16.461112 18748 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:16.737251 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:17.045244 18737 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:17.298697 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:17.603466 18735 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:17.847456 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:18.159785 18747 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:18.397504 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:18.743310 18747 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:18.990329 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:19.480185 18756 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:19.616101 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:20.164090 18757 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:20.407835 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:20.739809 18747 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:20.959734 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:21.312520 18761 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:21.547752 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:22.120389 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:22.298874 18761 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:22.694031 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:22.908483 18768 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:23.270310 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:23.462976 18745 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:23.813654 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:24.038105 18757 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:24.350003 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:24.956943 18768 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:25.075363 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:25.642711 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:25.983399 18737 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:26.193035 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:26.596805 18757 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:26.768514 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:27.157996 18738 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:27.325950 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:27.752724 18737 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:27.881835 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:28.317692 18737 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:28.450088 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:28.964224 18748 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:29.015213 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:29.524880 18756 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:29.560818 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:30.209236 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:30.231812 18761 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:30.787266 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:30.849604 18768 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:31.413288 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:31.460566 18757 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:31.956744 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:32.040597 18737 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:32.521382 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:32.653084 18737 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:33.061010 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:33.276943 18756 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:33.623853 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:39.606382 18735 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:39.997759 18737 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:40.636797 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:08:40.753237 21551 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:08:40.764197 21551 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:08:40.765887 21551 server.cpp:499] Fail to start Server
W1218 01:08:41.032529 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:41.171468 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:41.593389 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:41.763144 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:42.144909 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:42.329402 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:42.672269 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:42.868861 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:43.223075 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:43.397585 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:43.788677 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:43.989782 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:44.383453 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:44.533028 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:45.021646 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:45.068003 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:45.602633 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:45.611665 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:46.152801 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:46.157085 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:46.673647 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:46.676530 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:47.216638 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:47.224752 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:47.794320 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:47.800981 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:48.364737 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:48.403867 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:48.939590 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:48.971266 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:49.559666 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:49.592217 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:50.169296 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:50.166224 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:50.834923 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:50.840171 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:51.422107 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:51.428050 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR

=================================================================
==21551==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f26a8d8209a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f26a8d8209a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f26a8d8209a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:08:52.032955 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:52.040642 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:52.667052 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:52.715373 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:53.300771 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:53.303857 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:53.848995 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:53.851308 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:54.463636 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:54.471494 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:55.022246 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:55.068506 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:55.627851 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:55.689188 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:56.337255 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:56.357681 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:56.861176 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:56.939019 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:57.400555 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:57.509642 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:57.939801 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:58.076171 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:58.587852 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:58.696095 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:59.133955 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:59.268498 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:59.748821 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:08:59.864400 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:00.277302 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:00.445732 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:00.841686 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:01.025270 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:01.472545 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:01.560613 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:02.583295 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:02.565327 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:03.180336 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:03.201877 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:03.720448 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:03.766350 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:04.317041 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:04.317935 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:04.845412 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:04.849565 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:05.413297 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:05.416126 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:06.005688 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:06.008659 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:09:09.158358 21874 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:09:09.202206 21874 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:09:09.204525 21874 server.cpp:499] Fail to start Server
W1218 01:09:11.398097 18754 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:12.348512 18756 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:12.977149 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:13.398146 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:13.523524 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:14.001087 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:14.100884 18738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:14.562436 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:14.660812 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:15.576866 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:15.691712 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:16.216573 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:16.227552 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:16.731719 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:16.762382 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:17.275646 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:17.308452 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:17.861465 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:17.863176 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:18.413096 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:18.413951 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:18.977413 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:18.980854 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:19.681337 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:19.684428 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:26.608309 18767 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:26.874861 18767 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:27.105177 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:27.585253 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:27.727941 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:28.224392 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:28.332576 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:28.926113 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:28.926118 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:29.530368 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:29.593263 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR

=================================================================
==21874==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
W1218 01:09:30.131031 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
W1218 01:09:30.184669 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f2b7b77109a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f2b7b77109a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f2b7b77109a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:09:30.764623 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:30.773180 18756 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:31.315057 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:31.384119 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:31.926834 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:31.929435 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:32.511510 18767 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:32.524083 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:33.080030 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:33.082734 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:33.610188 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:33.616147 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:34.195451 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:34.197438 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:34.747664 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:34.747711 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:35.382936 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:35.385946 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:35.943753 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:35.972610 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:36.557775 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:36.714118 18748 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:37.487980 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:37.524395 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:38.027380 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:38.049757 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:38.560705 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:38.582051 18768 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:39.132783 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:39.146775 18735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:39.733681 18757 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:39.744454 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:40.422889 18745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:40.393280 18761 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:40.998940 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:41.011917 18754 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:41.597038 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:41.606020 18737 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:42.206704 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:42.209072 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:42.780465 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:09:42.847132 18747 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:09:52.442152 22275 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:09:52.546908 22275 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:09:52.548802 22275 server.cpp:499] Fail to start Server
W1218 01:09:59.804405 18767 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:10:01.157631 18757 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:10:01.676744 18757 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
W1218 01:10:02.141904 18738 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 5 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:10:41.236290 22806 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:10:41.709030 22806 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:10:41.710928 22806 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:10:42.565356 22806 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:10:42.586907 22806 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:10:42.617380 22806 log.cpp:699] ./data/log is empty
I1218 01:10:42.752821 22806 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 132857
I1218 01:10:42.757624 22806 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:10:42.770362 22806 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:10:42.787015 22806 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 3269
I1218 01:10:42.792825 22806 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:10:42.800691 22806 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:10:46.241469 22859 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 15 current_term 1 granted 1 rejected_by_lease 0
I1218 01:10:46.912128 22861 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 15 current_term 1 log_is_ok 1 votable_time 0
I1218 01:10:46.976011 22861 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 15 votedfor 0.0.0.0:0:0 time: 61556
I1218 01:10:47.035643 22861 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 15 votedfor 10.1.3.3:8700:0 time: 56941
I1218 01:10:47.195868 22868 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 16 current_term 15 granted 1 rejected_by_lease 0
I1218 01:10:47.484791 22883 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.4.3:8700:0 in term 16 current_term 15 log_is_ok 1 votable_time 0
I1218 01:10:47.491865 22859 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=15, status=Follower receives message from new leader with the same term.}
I1218 01:10:47.498672 22859 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=15, status=Raft node receives higher term request_vote_request.}
I1218 01:10:47.575783 22883 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 16 votedfor 0.0.0.0:0:0 time: 82209
I1218 01:10:47.598680 22883 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 16 votedfor 10.1.4.3:8700:0 time: 20028
W1218 01:10:47.672331 22868 node.cpp:2399] node Atomic:10.1.5.3:8700:0 ignore stale AppendEntries from 10.1.3.3:8700:0 in term 15 current_term 16
I1218 01:10:47.757479 22871 server.cpp:312] Node start following { leader_id=10.1.4.3:8700:0, term=16, status=Follower receives message from new leader with the same term.}
W1218 01:10:47.768321 22857 node.cpp:2399] node Atomic:10.1.5.3:8700:0 ignore stale AppendEntries from 10.1.3.3:8700:0 in term 15 current_term 16
I1218 01:10:48.173094 22861 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=8 last_include_log_term=12 from 10.1.4.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:10:49.208539 22857 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000008
I1218 01:10:49.210132 22857 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000008
I1218 01:10:49.279366 22859 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:10:49.322628 22868 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 9 time: 39323
I1218 01:10:49.350319 22859 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 8 last_included_term: 12 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 01:10:49.617316 22861 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000009' with fd=8
I1218 01:10:49.645527 22861 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:10:49.647423 22861 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:10:49.648423 22861 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:11:00.060279 23010 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:11:00.131994 23010 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:11:00.133908 23010 server.cpp:499] Fail to start Server
I1218 01:11:04.893585 22852 server.cpp:309] Node stops following { leader_id=10.1.4.3:8700:0, term=16, status=Lost connection from leader 10.1.4.3:8700:0}
I1218 01:11:04.921242 22869 node.cpp:1587] node Atomic:10.1.5.3:8700:0 term 16 start pre_vote
I1218 01:11:05.176438 22871 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 17 current_term 16 granted 1 rejected_by_lease 0
I1218 01:11:05.224098 22883 node.cpp:1512] node Atomic:10.1.5.3:8700:0 received PreVoteResponse from 10.1.3.3:8700:0 term 16 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:11:05.799567 22861 node.cpp:1512] node Atomic:10.1.5.3:8700:0 received PreVoteResponse from 10.1.1.3:8700:0 term 16 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:11:05.800715 22861 node.cpp:1653] node Atomic:10.1.5.3:8700:0 term 16 start vote and grant vote self
W1218 01:11:06.052789 22861 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:11:06.117789 22861 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:11:06.169286 22861 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 17 votedfor 10.1.5.3:8700:0 time: 188226
E1218 01:11:06.170958 22861 node.cpp:1711] node Atomic:10.1.5.3:8700:0 fail to set_term_and_votedfor itself when elect_self, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
W1218 01:11:06.179203 22859 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.4.3:8700:0 ctx_version 9 current_ctx_version 10
W1218 01:11:06.207772 22883 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.2.3:8700:0 ctx_version 9 current_ctx_version 10
I1218 01:11:06.212178 22857 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 17 current_term 17 log_is_ok 1 votable_time 0
W1218 01:11:06.229056 22857 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:11:06.229863 22857 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:11:06.243683 22857 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 17 votedfor 10.1.3.3:8700:0 time: 11169
E1218 01:11:06.244679 22857 node.cpp:2244] node Atomic:10.1.5.3:8700:0 refuse to vote for 10.1.3.3:8700:0 because failed to set_votedfor it, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
W1218 01:11:06.246081 22871 node.cpp:1370] node Atomic:10.1.5.3:8700:0 received invalid RequestVoteResponse from 10.1.3.3:8700:0 ctx_version 1 current_ctx_version 2
W1218 01:11:06.260921 22887 node.cpp:1370] node Atomic:10.1.5.3:8700:0 received invalid RequestVoteResponse from 10.1.2.3:8700:0 ctx_version 1 current_ctx_version 2
W1218 01:11:06.272089 22867 node.cpp:1370] node Atomic:10.1.5.3:8700:0 received invalid RequestVoteResponse from 10.1.4.3:8700:0 ctx_version 1 current_ctx_version 2
W1218 01:11:06.287231 22868 node.cpp:1370] node Atomic:10.1.5.3:8700:0 received invalid RequestVoteResponse from 10.1.1.3:8700:0 ctx_version 1 current_ctx_version 2
I1218 01:11:06.380690 22860 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=17, status=Follower receives message from new leader with the same term.}
I1218 01:11:06.855250 22865 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:11:10.259737 22864 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
E1218 01:11:10.374598 22864 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:11:10.427655 22864 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 01:11:10.569801 22869 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
W1218 01:11:10.571776 22869 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
I1218 01:11:10.600633 22869 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=17, status=Raft node(leader or candidate) is in error.}
W1218 01:11:10.605945 22858 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:10.712339 22823 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:11:11.269325 22865 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:12.008798 22866 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:12.597514 22866 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:13.149765 22866 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:13.679124 22870 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:14.218860 22870 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:14.745971 22870 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:15.312753 22858 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:15.912804 22865 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:16.464318 22865 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:17.014966 22865 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:17.535260 22866 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:18.082343 22853 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:18.694195 22887 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:19.736670 22870 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:20.461063 22858 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:21.021092 22867 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR

=================================================================
==23010==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f616ecc709a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f616ecc709a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f616ecc709a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:11:24.454876 23226 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:11:24.531769 23226 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:11:24.533895 23226 server.cpp:499] Fail to start Server
W1218 01:11:27.813202 22860 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:28.760258 22853 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:29.465490 22858 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:29.751546 22858 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:30.043560 22858 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:30.292500 22887 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:30.696807 22853 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:30.861008 22853 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:31.331843 22867 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:31.420764 22865 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:31.908545 22865 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:32.011395 22865 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:32.468885 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:32.574195 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:33.281277 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:33.301795 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:34.212102 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:34.223670 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:34.758244 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:34.763258 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:35.428375 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:35.440182 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:36.037321 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:36.039294 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:36.598804 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:36.664839 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:37.168334 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:37.195072 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:37.772771 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:37.776041 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:38.318940 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:38.331339 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:38.774365 22823 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:11:38.901129 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:38.924587 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:39.505151 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:39.584532 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:40.056018 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:40.111460 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:40.588043 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:40.660799 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:41.139448 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:41.209489 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:41.665892 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:41.796468 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:42.193878 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:42.393108 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR

=================================================================
==23226==ERROR: LeakSanitizer: detected memory leaks

W1218 01:11:42.764201 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f7c2d36b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f7c2d36b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
W1218 01:11:43.028016 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f7c2d36b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:11:43.348112 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:43.679093 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:43.972112 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:44.247185 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:44.521205 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:44.818009 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:11:45.796356 23412 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:11:45.907716 23412 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:11:45.989003 23412 server.cpp:499] Fail to start Server
W1218 01:11:51.615502 22869 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:52.187400 22869 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:52.680410 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:53.107424 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:53.268383 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:53.653182 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:53.814231 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:54.255812 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:54.395357 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:54.904363 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:54.912209 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:55.432667 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:55.451978 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:55.984927 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:55.992750 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:56.517076 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:56.540189 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:57.044404 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:57.095956 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:57.634053 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:57.647572 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:58.609051 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:58.792382 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:59.345552 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:59.377005 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:59.916841 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:11:59.917668 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:00.446691 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:00.448155 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:00.976300 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:00.978363 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:01.512450 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:01.535230 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:02.132663 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:02.135056 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:02.681161 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:02.705420 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:03.229506 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:03.268389 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:03.779400 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:03.840211 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR

=================================================================
==23412==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f2e5749b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f2e5749b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f2e5749b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:12:04.332605 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:04.403671 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:04.876943 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:04.979569 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:05.415776 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:05.529013 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:05.958223 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:06.177192 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:06.496131 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:06.799654 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:07.053192 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:07.378520 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:07.596458 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:11.712638 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:11.714857 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:12.284701 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:12.352521 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:12.812592 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:12.894297 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:13.385262 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:13.429734 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:13.944447 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:14.052372 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:14.489111 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:14.582327 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:15.064009 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:15.207602 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:15.664662 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:15.804711 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:16.200994 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:16.334374 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:16.732880 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:16.929781 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:17.269433 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:17.473794 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:17.807788 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:18.007983 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:18.355581 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:18.555316 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:18.930220 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:19.157194 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:19.457561 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:19.708976 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:19.991292 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:20.271337 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:20.524699 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:20.847282 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:21.134985 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:21.381162 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:21.673010 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:21.980948 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:22.248405 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:22.918164 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:22.878890 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:23.533398 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:23.536921 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:24.131397 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:24.133869 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:24.744711 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:24.783023 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:25.336339 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:25.350347 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:25.871037 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:25.900470 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:26.439805 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:26.441843 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:27.020910 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:27.026062 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:27.597082 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:27.637746 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:28.181707 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:28.203902 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:28.734582 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:28.776173 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:29.286268 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:29.561182 22871 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:29.844393 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:30.471488 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:30.474045 22861 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:31.012882 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:31.029706 22868 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:31.589551 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:12:35.575721 23927 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:12:36.300338 23910 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:12:36.302199 23910 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:12:36.340548 23910 server.cpp:499] Fail to start Server
W1218 01:12:37.267242 22859 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:38.188210 22871 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:38.806380 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:39.308131 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:39.439873 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:39.891337 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:39.994935 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:40.453641 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:40.564357 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:41.058355 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:41.114351 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:41.591300 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:41.748189 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:42.145164 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:42.306133 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:42.772137 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:42.888176 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:43.398857 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:43.477702 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:44.356098 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:44.378871 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:44.987710 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:44.989763 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:45.576910 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:45.589919 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:46.144313 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:46.187830 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:46.728786 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:46.750262 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:47.256934 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:47.284545 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:47.782682 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:47.805109 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:48.576785 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:48.628535 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:49.232225 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:49.271343 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:49.779965 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:49.821286 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:50.308270 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:50.360538 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:50.857517 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:50.909132 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:51.434082 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:51.445391 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:51.976619 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:52.060192 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:52.510682 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:52.685185 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:53.040620 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:53.325707 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:53.572140 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR

=================================================================
==23910==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
W1218 01:12:53.863202 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
    #5 0x7f1a99d8709a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f1a99d8709a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f1a99d8709a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:12:54.147388 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:54.413658 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:54.713531 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:54.988903 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:55.346871 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:55.572948 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:56.033617 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:56.108767 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:56.565266 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:56.645644 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:57.112744 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:57.235991 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:57.653188 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:57.860618 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:58.272877 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:58.401046 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:58.789042 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:58.964931 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:59.364323 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:59.524678 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:12:59.891747 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:00.100515 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:00.455354 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:00.638242 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:01.253185 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:01.255693 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:01.876984 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:01.880416 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:02.532243 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:02.538093 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:03.084645 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:03.087426 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:03.620457 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:03.620385 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:04.157122 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:04.163288 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:04.707724 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:04.717603 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:05.265565 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:05.268728 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:05.858952 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:05.861394 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:06.398972 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:06.426030 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:06.965063 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:07.009315 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:07.564744 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:07.594170 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:08.112389 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:08.124312 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:08.684473 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:08.697662 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:09.229228 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:09.351760 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:13:10.715693 24256 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:13:11.480507 24232 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:13:11.492254 24232 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:13:11.494052 24232 server.cpp:499] Fail to start Server
W1218 01:13:16.129302 22864 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:16.744362 22852 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:17.096477 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:17.521524 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:17.648550 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:18.070782 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:18.212142 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:18.633276 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:18.768786 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:19.200605 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:19.340624 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:19.784350 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:19.854584 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:20.320211 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:20.368649 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:20.871409 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:20.951335 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:21.421895 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:21.503084 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:21.961484 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:22.083509 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:22.493867 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:22.638305 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:23.042357 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:23.184593 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:23.575403 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:23.761632 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:24.113400 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:24.305256 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:24.671591 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:24.821547 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR

=================================================================
==24232==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fd1300b509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fd1300b509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fd1300b509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:13:25.225394 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:25.356352 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:25.760986 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:25.927465 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:26.312052 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:27.002928 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:27.000909 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:27.611577 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:27.613564 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:28.153715 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:28.156134 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:28.708308 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:28.749068 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:29.281824 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:29.331204 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:29.857889 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:29.871918 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:30.388909 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:30.398373 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:30.936579 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:30.937165 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:31.585342 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:31.588848 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:42.415711 22852 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:13:48.387254 22869 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:13:58.352659 24712 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:13:58.385663 24712 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:13:58.440164 24712 server.cpp:499] Fail to start Server
W1218 01:14:04.342156 22864 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:04.608301 22869 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:05.067760 22869 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:05.071892 22852 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:05.947064 22861 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:06.125873 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:06.194913 22868 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:06.472595 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:06.925298 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:07.041783 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:07.510383 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:07.601033 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:08.036582 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:08.205104 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:08.593885 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:08.786345 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:09.130887 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:09.371362 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:09.749931 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:09.925215 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:10.269948 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:10.449620 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:10.834335 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:11.040505 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:11.651021 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:11.704555 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:12.288789 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:12.314234 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:12.863113 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:12.865682 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:13.475821 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:13.485124 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR

=================================================================
==24712==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
W1218 01:14:14.024974 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
    #5 0x7f70ebce609a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

W1218 01:14:14.038286 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f70ebce609a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f70ebce609a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:14:14.553475 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:14.604995 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:15.129117 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:15.131747 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:15.738152 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:15.738363 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:16.285558 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:16.285558 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:16.821925 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:16.921257 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:17.481681 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:17.503007 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:27.365147 22864 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:28.050123 22869 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:28.053591 22852 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:28.401298 22871 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:28.572031 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:28.999632 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:29.125372 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:29.545149 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:29.699105 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:30.099401 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:30.248986 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:30.614059 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:30.788571 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:31.191994 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:31.400756 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:31.762591 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:31.932750 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:32.345741 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:32.532368 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:32.929579 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:33.138200 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:33.475075 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:33.673789 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:34.014853 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:34.367888 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:34.604700 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:34.920603 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:35.187896 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:35.533106 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:35.773765 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:36.073038 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:36.868767 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:36.854123 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:37.455857 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:37.485759 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:38.056492 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:38.088511 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:38.622805 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:38.625079 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:39.203048 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:39.219185 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:39.740943 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:39.759660 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:40.266141 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:40.309546 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:40.787333 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:40.832634 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:41.335486 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:41.468509 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:41.892292 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:42.040970 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:42.438151 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:42.577587 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:42.992378 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:43.102857 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:43.596479 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:43.650187 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:44.146654 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:44.214373 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:44.713119 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:44.757221 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:45.254217 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:45.296571 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:45.787528 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:45.813788 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:46.308455 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:46.357654 22861 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:46.840584 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:46.923655 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:47.375950 22859 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:47.496822 22871 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:47.899693 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:48.027187 22883 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:48.518821 22857 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:48.596498 22868 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:55.167009 22861 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:14:55.434091 22883 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:00.809548 22871 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:00.971350 22857 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:06.429586 22869 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:06.805151 22864 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:15:16.611328 25508 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:15:16.888873 25476 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:15:16.891068 25476 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:15:16.893802 25476 server.cpp:499] Fail to start Server
W1218 01:15:22.662003 22852 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:23.540208 22869 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:24.309577 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:24.761958 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:24.924773 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:25.375074 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:25.488286 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:25.940397 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:26.047049 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:26.510097 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:26.582358 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:27.191915 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:27.202947 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:27.847133 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:27.903606 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:28.408849 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:28.452491 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:28.984705 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:29.091430 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:29.562862 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:29.637169 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:30.133340 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:30.153728 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:30.651850 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:30.714104 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:31.203615 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:31.269356 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:31.800053 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:31.860944 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR

=================================================================
==25476==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f2515d2509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f2515d2509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f2515d2509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:15:32.367055 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:32.429814 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:32.920759 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:32.984728 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:33.517676 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:33.520004 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:34.081516 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:34.093847 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:34.639256 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:34.650116 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:35.212628 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:35.217063 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:42.264058 22869 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:43.721024 22864 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:44.185083 22864 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:44.659058 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:45.122335 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:45.326936 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:45.886142 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:45.957026 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:46.452809 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:46.571635 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:47.000599 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:47.115284 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:47.535579 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:47.677129 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:48.075397 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:48.241369 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:48.673285 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:48.831367 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:49.246347 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:49.405813 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:49.813395 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:49.959825 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:50.372882 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:50.520013 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:50.965341 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:51.108800 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:51.988642 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:51.988642 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:52.737640 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:15:52.740517 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:16:02.932974 25948 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:16:02.985999 25948 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:16:02.988093 25948 server.cpp:499] Fail to start Server
W1218 01:16:08.191475 22852 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:08.723778 22869 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:09.615965 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:10.064481 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:10.173089 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:10.632328 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:10.723275 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:11.177337 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:11.268893 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:11.727931 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:11.897336 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:12.276044 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:12.462662 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:12.890218 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:12.994676 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:13.465824 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:13.581715 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:14.054854 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:14.229238 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:14.640803 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:14.849241 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:15.185966 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:15.967307 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:15.961131 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:16.531749 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:16.565871 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR

=================================================================
==25948==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f356cd2809a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f356cd2809a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f356cd2809a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:16:24.220407 22864 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:16:25.701859 26171 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:16:25.722688 26171 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:16:25.815380 26171 server.cpp:499] Fail to start Server
W1218 01:16:30.272658 22852 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:30.835829 22869 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:31.537468 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:31.748749 22852 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:32.104739 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:32.141232 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:32.688606 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:32.736124 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:33.259126 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:33.278352 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:33.821605 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:33.873883 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:34.405277 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:34.428432 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:35.123028 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:35.126261 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:35.745349 22869 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:35.745411 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:36.407330 22864 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
W1218 01:16:36.408140 22852 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 17 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:17:03.761366 26561 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:17:04.507001 26561 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:17:04.526024 26561 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:17:05.058648 26561 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:17:05.105242 26561 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:17:05.174783 26561 log.cpp:699] ./data/log is empty
I1218 01:17:05.239130 26561 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 61710
I1218 01:17:05.250591 26561 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:17:05.255928 26561 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:17:05.257670 26561 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 2425
I1218 01:17:05.283712 26561 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:17:05.300814 26561 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:17:11.036859 26634 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.1.3:8700:0 in term 29 current_term 1 granted 1 rejected_by_lease 0
I1218 01:17:11.393080 26634 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:17:11.426734 26634 snapshot_executor.cpp:154] node Atomic:10.1.5.3:8700:0 the gap between fsm applied index 0 and last_snapshot_index 0 is less than 1, will clear bufferred logs and return success
I1218 01:17:11.440263 26648 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 29 current_term 1 granted 1 rejected_by_lease 0
I1218 01:17:11.593524 26647 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.1.3:8700:0 in term 29 current_term 1 log_is_ok 1 votable_time 0
I1218 01:17:11.629077 26647 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 29 votedfor 0.0.0.0:0:0 time: 25046
I1218 01:17:11.673592 26647 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 29 votedfor 10.1.1.3:8700:0 time: 36823
I1218 01:17:11.703094 26634 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.4.3:8700:0 in term 29 current_term 29 log_is_ok 1 votable_time 0
I1218 01:17:12.266985 26647 server.cpp:312] Node start following { leader_id=10.1.1.3:8700:0, term=29, status=Follower receives message from new leader with the same term.}
I1218 01:17:12.676501 26634 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=19 last_include_log_term=25 from 10.1.1.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:17:13.297416 26634 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000019
I1218 01:17:13.318113 26634 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000019
I1218 01:17:13.516620 26634 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:17:13.538969 26634 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 19 last_included_term: 25 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 01:17:13.575208 26620 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 20 time: 38213
I1218 01:17:13.638656 26632 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000020' with fd=8
I1218 01:17:13.720036 26634 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:17:13.721786 26634 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:17:13.725565 26634 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:17:13.727403 26634 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:18:22.836115 27456 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:18:23.360724 27456 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:18:23.386991 27456 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:18:23.647349 27456 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:18:23.649713 27456 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:18:23.651221 27456 log.cpp:699] ./data/log is empty
I1218 01:18:23.705590 27456 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 47117
I1218 01:18:23.709780 27456 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:18:23.736730 27456 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:18:23.749243 27456 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 2422
I1218 01:18:23.759650 27456 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:18:23.761953 27456 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:18:32.601027 27518 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:18:32.647238 27518 snapshot_executor.cpp:154] node Atomic:10.1.5.3:8700:0 the gap between fsm applied index 0 and last_snapshot_index 0 is less than 1, will clear bufferred logs and return success
I1218 01:18:32.761579 27521 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 30 current_term 1 granted 1 rejected_by_lease 0
I1218 01:18:32.783891 27505 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 30 current_term 1 granted 1 rejected_by_lease 0
I1218 01:18:33.171140 27508 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 30 current_term 1 log_is_ok 1 votable_time 0
I1218 01:18:33.258037 27508 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 30 votedfor 0.0.0.0:0:0 time: 63805
I1218 01:18:33.326345 27508 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 30 votedfor 10.1.3.3:8700:0 time: 60562
I1218 01:18:33.332300 27521 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.1.3:8700:0 in term 30 current_term 30 granted 1 rejected_by_lease 0
I1218 01:18:33.342350 27532 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 31 current_term 30 granted 1 rejected_by_lease 0
I1218 01:18:33.538682 27521 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.2.3:8700:0 in term 31 current_term 30 log_is_ok 1 votable_time 0
I1218 01:18:33.580098 27521 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 31 votedfor 0.0.0.0:0:0 time: 40072
I1218 01:18:33.614781 27521 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 31 votedfor 10.1.2.3:8700:0 time: 32832
W1218 01:18:33.798621 27521 node.cpp:2399] node Atomic:10.1.5.3:8700:0 ignore stale AppendEntries from 10.1.3.3:8700:0 in term 30 current_term 31
I1218 01:18:34.180511 27532 node.cpp:2108] node Atomic:10.1.5.3:8700:0 ignore PreVote from 10.1.4.3:8700:0 in term 30 current_term 31
I1218 01:18:34.297080 27532 server.cpp:312] Node start following { leader_id=10.1.2.3:8700:0, term=31, status=Follower receives message from new leader with the same term.}
I1218 01:18:35.065526 27532 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=23 last_include_log_term=29 from 10.1.2.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:18:35.668545 27508 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000023
I1218 01:18:35.690155 27508 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000023
I1218 01:18:35.785647 27532 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:18:35.969146 27532 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 23 last_included_term: 29 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 01:18:35.981552 27508 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 24 time: 20548
I1218 01:18:36.056241 27521 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000024' with fd=7
I1218 01:18:36.072603 27532 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:18:49.162117 27504 server.cpp:309] Node stops following { leader_id=10.1.2.3:8700:0, term=31, status=Lost connection from leader 10.1.2.3:8700:0}
I1218 01:18:49.162118 27506 node.cpp:1587] node Atomic:10.1.5.3:8700:0 term 31 start pre_vote
W1218 01:18:49.349802 27521 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.2.3:8700:0 error: [E111]Fail to connect Socket{id=281 addr=10.1.2.3:8700} (0x0x6310000b4d80): Connection refused
I1218 01:18:49.496908 27532 node.cpp:1512] node Atomic:10.1.5.3:8700:0 received PreVoteResponse from 10.1.4.3:8700:0 term 31 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:18:49.511711 27505 node.cpp:1512] node Atomic:10.1.5.3:8700:0 received PreVoteResponse from 10.1.3.3:8700:0 term 31 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:18:49.513374 27505 node.cpp:1653] node Atomic:10.1.5.3:8700:0 term 31 start vote and grant vote self
W1218 01:18:49.749348 27534 node.cpp:1454] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.2.3:8700:0 error: [E111]Fail to connect Socket{id=373 addr=10.1.2.3:8700} (0x0x6310000f0ac0): Connection refused
I1218 01:18:49.875517 27505 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 32 votedfor 10.1.5.3:8700:0 time: 41673
W1218 01:18:49.882812 27521 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.1.3:8700:0 ctx_version 7 current_ctx_version 8
W1218 01:18:49.888420 27524 node.cpp:1454] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.4.3:8700:0 error: [E110]Fail to connect Socket{id=377 addr=10.1.4.3:8700} (0x0x6310000f15c0): Connection timed out
I1218 01:18:49.909204 27508 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.1.3:8700:0 in term 32 current_term 32 granted 1 rejected_by_lease 0
I1218 01:18:49.977510 27532 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.1.3:8700:0 in term 32 current_term 32 log_is_ok 1 votable_time 0
I1218 01:18:50.059301 27519 node.cpp:1403] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.1.3:8700:0 term 32 granted 0 rejected_by_lease 0 disrupted 0
I1218 01:18:50.074824 27517 node.cpp:1403] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.3.3:8700:0 term 32 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:18:50.660557 27502 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 33 current_term 32 granted 1 rejected_by_lease 0
I1218 01:18:50.768605 27520 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 33 current_term 32 log_is_ok 1 votable_time 0
I1218 01:18:50.788803 27520 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 33 votedfor 0.0.0.0:0:0 time: 17702
I1218 01:18:50.898249 27520 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 33 votedfor 10.1.3.3:8700:0 time: 79390
I1218 01:18:51.116972 27534 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 34 current_term 33 granted 1 rejected_by_lease 0
I1218 01:18:51.136116 27535 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=33, status=Follower receives message from new leader with the same term.}
I1218 01:18:51.513911 27502 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
W1218 01:19:01.049970 27486 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
I1218 01:19:02.667696 27524 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:19:03.056083 27513 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000025
I1218 01:19:03.058914 27513 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000025
I1218 01:19:03.086120 27513 snapshot.cpp:523] Deleting ./data/snapshot/snapshot_00000000000000000023
I1218 01:19:03.976190 27513 snapshot_executor.cpp:234] node Atomic:10.1.5.3:8700:0 snapshot_save_done, last_included_index=25 last_included_term=33
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:19:19.318008 28081 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:19:20.622800 28063 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:19:20.624614 28063 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:19:20.626238 28063 server.cpp:499] Fail to start Server
I1218 01:19:22.326848 27535 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 34 current_term 33 granted 1 rejected_by_lease 0
I1218 01:19:22.651149 27534 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 34 current_term 33 log_is_ok 1 votable_time 0
I1218 01:19:22.663057 27533 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=33, status=Raft node receives higher term request_vote_request.}
W1218 01:19:22.678933 27534 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:19:22.681870 27534 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:19:22.732316 27534 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 34 votedfor 0.0.0.0:0:0 time: 78121
E1218 01:19:22.747756 27534 node.cpp:1816] node Atomic:10.1.5.3:8700:0 fail to set_term_and_votedfor when step_down, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
W1218 01:19:22.750116 27534 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:19:22.774255 27534 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:19:22.775485 27534 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 34 votedfor 10.1.3.3:8700:0 time: 25609
E1218 01:19:22.823510 27534 node.cpp:2244] node Atomic:10.1.5.3:8700:0 refuse to vote for 10.1.3.3:8700:0 because failed to set_votedfor it, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
I1218 01:19:22.999629 27519 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=34, status=Follower receives message from new leader with the same term.}
I1218 01:19:23.500707 27507 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:19:32.947640 27513 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
E1218 01:19:32.977936 27513 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:19:32.980158 27513 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 01:19:33.008447 27513 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
W1218 01:19:33.010064 27513 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
I1218 01:19:33.045339 27513 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=34, status=Raft node(leader or candidate) is in error.}
W1218 01:19:33.200598 27486 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:19:33.283062 27517 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:33.856635 27502 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:34.378715 27507 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR

=================================================================
==28063==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fcbf411809a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fcbf411809a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fcbf411809a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:19:34.912635 27520 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:35.489774 27534 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:36.020200 27535 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:36.632938 27519 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:37.158682 27533 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:37.725988 27533 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:38.396443 27517 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:39.024807 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:39.641211 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:46.840121 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:48.022733 27506 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:48.282649 27504 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:48.648854 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:49.172267 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:49.204272 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:49.713958 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:49.746874 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:50.235318 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:50.277854 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:50.775055 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:50.821470 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:51.351877 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:51.367997 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:51.881071 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:51.884104 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:52.417189 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:52.419991 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:52.949432 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:52.952484 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:53.500252 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:53.513572 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:54.026736 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:54.040901 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:54.624850 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:54.634846 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:55.213361 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:55.227919 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:55.791257 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:56.095728 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:56.628074 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:56.640421 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:57.165426 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:57.167912 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:57.772766 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:57.799575 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:58.333539 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:58.376775 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:58.893689 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:58.904739 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:59.461222 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:19:59.468149 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:00.012955 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:00.024000 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:00.529024 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:00.604131 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:01.071470 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:01.132880 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:01.604729 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:01.719220 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:02.149101 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:02.268582 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:02.861913 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:02.862380 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:03.421643 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:03.432729 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:03.961705 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:03.981693 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:04.529199 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:04.546065 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:05.092818 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:05.173537 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:05.630295 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:05.708206 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:06.189317 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:06.255321 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:07.875943 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:07.977003 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:08.647362 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:08.650136 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:09.197232 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:09.200690 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:09.773506 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:09.788414 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:10.355892 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:10.587108 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:10.917222 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:11.224359 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:11.515841 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:11.784662 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:12.111229 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:12.332763 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:12.697383 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:12.884378 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:13.292677 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:13.464803 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:13.865113 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:14.044258 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:14.467450 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:14.607743 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:15.021471 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:15.164147 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:15.573427 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:15.782693 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:16.112612 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:20:21.284294 28672 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:20:21.300125 28672 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:20:21.301767 28672 server.cpp:499] Fail to start Server
W1218 01:20:25.409840 27506 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:26.137346 27513 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:26.925786 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:27.389067 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:27.475335 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:27.958144 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:28.016845 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:28.490345 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:28.607362 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:29.029337 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:29.145591 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:29.593173 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:29.717005 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:30.133790 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:30.369328 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:30.705384 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:30.894068 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:31.441690 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:32.028338 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:32.080796 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:32.589672 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:32.661440 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:33.161051 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:33.217331 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:33.769265 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:33.784919 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:34.317325 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:34.386214 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:34.913007 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:34.915727 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:35.453075 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:35.471863 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:35.985872 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:36.000694 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR

=================================================================
==28672==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fdc05d3e09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fdc05d3e09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fdc05d3e09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:20:36.526787 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:36.555871 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:37.094662 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:37.105299 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:37.633894 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:37.666312 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:38.167909 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:38.207217 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:38.778931 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:38.781452 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:39.399762 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:39.425451 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:39.933270 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:39.993335 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:40.477396 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:40.557653 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:41.065155 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:41.105271 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:41.681305 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:41.681805 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:42.240978 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:42.265810 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:20:42.634158 28875 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:20:42.645812 28875 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:20:42.650799 28875 server.cpp:499] Fail to start Server
W1218 01:20:48.181444 27504 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:48.547756 27506 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:48.742233 27524 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:49.212538 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:49.732718 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:49.788610 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:50.388615 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:50.390028 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:50.944320 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:50.946986 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:51.582890 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:51.561195 27513 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:52.268618 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:52.271344 27518 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:52.808351 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:52.876583 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:53.568222 27504 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:53.576186 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:54.108870 27506 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
W1218 01:20:54.132856 27524 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 34 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:21:25.132088 29311 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:21:25.707183 29311 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:21:25.708823 29311 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:21:26.064469 29311 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:21:26.067585 29311 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:21:26.069010 29311 log.cpp:699] ./data/log is empty
I1218 01:21:26.112080 29311 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 40968
I1218 01:21:26.128702 29311 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:21:26.143184 29311 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:21:26.145813 29311 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 10255
I1218 01:21:26.147750 29311 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:21:26.155927 29311 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:21:32.269721 29402 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 38 current_term 1 granted 1 rejected_by_lease 0
I1218 01:21:32.314261 29400 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 39 current_term 1 granted 1 rejected_by_lease 0
I1218 01:21:32.326207 29383 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 39 current_term 1 granted 1 rejected_by_lease 0
I1218 01:21:32.575531 29405 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.2.3:8700:0 in term 39 current_term 1 log_is_ok 1 votable_time 0
I1218 01:21:32.887507 29405 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 39 votedfor 0.0.0.0:0:0 time: 152164
I1218 01:21:32.987079 29405 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 39 votedfor 10.1.2.3:8700:0 time: 44058
I1218 01:21:32.989115 29406 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.4.3:8700:0 in term 39 current_term 39 log_is_ok 1 votable_time 0
I1218 01:21:33.618767 29381 server.cpp:312] Node start following { leader_id=10.1.2.3:8700:0, term=39, status=Follower receives message from new leader with the same term.}
I1218 01:21:33.957692 29376 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=27 last_include_log_term=35 from 10.1.2.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:21:34.339237 29386 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000027
I1218 01:21:34.340765 29386 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000027
I1218 01:21:34.439407 29377 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:21:34.496416 29377 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 27 last_included_term: 35 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 01:21:34.524888 29376 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 28 time: 42464
I1218 01:21:34.603608 29388 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000028' with fd=8
I1218 01:21:34.627751 29405 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:21:34.629412 29405 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:21:34.630388 29405 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:21:34.634380 29405 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:21:49.616995 29382 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:21:50.261704 29382 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000031
I1218 01:21:50.274019 29382 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000031
I1218 01:21:50.284422 29382 snapshot.cpp:523] Deleting ./data/snapshot/snapshot_00000000000000000027
I1218 01:21:50.371800 29382 snapshot_executor.cpp:234] node Atomic:10.1.5.3:8700:0 snapshot_save_done, last_included_index=31 last_included_term=39
I1218 01:21:55.788655 29382 node.cpp:1587] node Atomic:10.1.5.3:8700:0 term 39 start pre_vote
I1218 01:21:55.847478 29402 server.cpp:309] Node stops following { leader_id=10.1.2.3:8700:0, term=39, status=Lost connection from leader 10.1.2.3:8700:0}
W1218 01:21:56.014967 29406 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.1.3:8700:0 error: [E111]Fail to connect Socket{id=372 addr=10.1.1.3:8700} (0x0x6310000dc800): Connection refused
W1218 01:21:56.047544 29375 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.2.3:8700:0 error: [E111]Fail to connect Socket{id=374 addr=10.1.2.3:8700} (0x0x6310000dcd80): Connection refused
I1218 01:21:56.169155 29377 node.cpp:1512] node Atomic:10.1.5.3:8700:0 received PreVoteResponse from 10.1.4.3:8700:0 term 39 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:21:56.182297 29388 node.cpp:1512] node Atomic:10.1.5.3:8700:0 received PreVoteResponse from 10.1.3.3:8700:0 term 39 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:21:56.184157 29388 node.cpp:1653] node Atomic:10.1.5.3:8700:0 term 39 start vote and grant vote self
W1218 01:21:56.235667 29381 node.cpp:1454] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.1.3:8700:0 error: [E111]Fail to connect Socket{id=8589934971 addr=10.1.1.3:8700} (0x0x6310000ddb40): Connection refused
W1218 01:21:56.298007 29375 node.cpp:1454] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.2.3:8700:0 error: [E111]Fail to connect Socket{id=8589934967 addr=10.1.2.3:8700} (0x0x6310000dd040): Connection refused
I1218 01:21:56.298336 29388 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 40 votedfor 10.1.5.3:8700:0 time: 61665
I1218 01:21:56.459939 29376 node.cpp:1403] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.4.3:8700:0 term 40 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:21:56.476534 29378 node.cpp:1403] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.3.3:8700:0 term 40 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:21:56.477690 29378 node.cpp:1908] node Atomic:10.1.5.3:8700:0 term 40 become leader of group 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0 
I1218 01:21:56.520915 29378 replicator.cpp:143] Replicator=7700876361729@10.1.1.3:8700:0 is started, group Atomic
I1218 01:21:56.607873 29378 replicator.cpp:143] Replicator=7718056230913@10.1.2.3:8700:0 is started, group Atomic
W1218 01:21:56.607944 29377 replicator.cpp:397] Group Atomic fail to issue RPC to 10.1.1.3:8700:0 _consecutive_error_times=1, [E111]Fail to connect Socket{id=8589934778 addr=10.1.1.3:8700} (0x0x631000078800): Connection refused [R1][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R2][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R3][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778
I1218 01:21:56.910053 29382 socket.cpp:2570] Checking Socket{id=8589934778 addr=10.1.1.3:8700} (0x631000078800)
I1218 01:21:57.106276 29378 replicator.cpp:143] Replicator=7735236100097@10.1.3.3:8700:0 is started, group Atomic
I1218 01:21:57.114351 29378 replicator.cpp:143] Replicator=7752415969281@10.1.4.3:8700:0 is started, group Atomic
W1218 01:21:57.243981 29382 replicator.cpp:397] Group Atomic fail to issue RPC to 10.1.2.3:8700:0 _consecutive_error_times=1, [E110]Fail to connect Socket{id=559 addr=10.1.2.3:8700} (0x0x631000140ac0): Connection timed out [R1][E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R2][E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R3][E112]Not connected to 10.1.2.3:8700 yet, server_id=559
I1218 01:21:57.347713 29402 socket.cpp:2570] Checking Socket{id=559 addr=10.1.2.3:8700} (0x631000140ac0)
I1218 01:21:57.385507 29376 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 41 current_term 40 granted 0 rejected_by_lease 0
I1218 01:21:57.510293 29402 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:21:57.545593 29402 node.cpp:3310] node Atomic:10.1.5.3:8700:0 reset ConfigurationCtx, new_peers: 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0, old_peers: 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:21:57.717505 29400 server.cpp:291] Node becomes leader
W1218 01:21:59.168107 29382 replicator.cpp:397] Group Atomic fail to issue RPC to 10.1.1.3:8700:0 _consecutive_error_times=11, [E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R1][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R2][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R3][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778
W1218 01:21:59.818053 29382 replicator.cpp:397] Group Atomic fail to issue RPC to 10.1.2.3:8700:0 _consecutive_error_times=11, [E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R1][E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R2][E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R3][E112]Not connected to 10.1.2.3:8700 yet, server_id=559
W1218 01:22:01.734921 29406 replicator.cpp:397] Group Atomic fail to issue RPC to 10.1.1.3:8700:0 _consecutive_error_times=21, [E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R1][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R2][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R3][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778
W1218 01:22:02.363340 29382 replicator.cpp:397] Group Atomic fail to issue RPC to 10.1.2.3:8700:0 _consecutive_error_times=21, [E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R1][E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R2][E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R3][E112]Not connected to 10.1.2.3:8700 yet, server_id=559
W1218 01:22:04.192531 29382 replicator.cpp:297] Group Atomic fail to issue RPC to 10.1.4.3:8700:0 _consecutive_error_times=1, [E112]Not connected to 10.1.4.3:8700 yet, server_id=563 [R1][E112]Not connected to 10.1.4.3:8700 yet, server_id=563 [R2][E112]Not connected to 10.1.4.3:8700 yet, server_id=563 [R3][E112]Not connected to 10.1.4.3:8700 yet, server_id=563
I1218 01:22:04.278101 29382 socket.cpp:2570] Checking Socket{id=563 addr=10.1.4.3:8700} (0x6310001415c0)
W1218 01:22:04.288406 29382 replicator.cpp:297] Group Atomic fail to issue RPC to 10.1.1.3:8700:0 _consecutive_error_times=31, [E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R1][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R2][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R3][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778
W1218 01:22:04.919871 29382 replicator.cpp:397] Group Atomic fail to issue RPC to 10.1.2.3:8700:0 _consecutive_error_times=31, [E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R1][E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R2][E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R3][E112]Not connected to 10.1.2.3:8700 yet, server_id=559
W1218 01:22:06.840775 29382 replicator.cpp:397] Group Atomic fail to issue RPC to 10.1.1.3:8700:0 _consecutive_error_times=41, [E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R1][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R2][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R3][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778
W1218 01:22:07.444936 29382 replicator.cpp:397] Group Atomic fail to issue RPC to 10.1.2.3:8700:0 _consecutive_error_times=41, [E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R1][E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R2][E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R3][E112]Not connected to 10.1.2.3:8700 yet, server_id=559
W1218 01:22:09.488274 29383 replicator.cpp:297] Group Atomic fail to issue RPC to 10.1.4.3:8700:0 _consecutive_error_times=11, [E112]Not connected to 10.1.4.3:8700 yet, server_id=563 [R1][E112]Not connected to 10.1.4.3:8700 yet, server_id=563 [R2][E112]Not connected to 10.1.4.3:8700 yet, server_id=563 [R3][E112]Not connected to 10.1.4.3:8700 yet, server_id=563
W1218 01:22:09.993615 29402 replicator.cpp:397] Group Atomic fail to issue RPC to 10.1.1.3:8700:0 _consecutive_error_times=51, [E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R1][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R2][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778 [R3][E112]Not connected to 10.1.1.3:8700 yet, server_id=8589934778
W1218 01:22:10.513960 29383 replicator.cpp:397] Group Atomic fail to issue RPC to 10.1.2.3:8700:0 _consecutive_error_times=51, [E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R1][E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R2][E112]Not connected to 10.1.2.3:8700 yet, server_id=559 [R3][E112]Not connected to 10.1.2.3:8700 yet, server_id=559
W1218 01:22:12.223845 29382 node.cpp:796] node Atomic:10.1.5.3:8700:0 term 40 steps down when alive nodes don't satisfy quorum dead_nodes: 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.4.3:8700:0 conf: 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:22:12.249097 29402 server.cpp:296] Node stepped down : Majority of the group dies
I1218 01:22:12.293857 29382 replicator.cpp:989] Group Atomic Replicator=7700876361729 is going to quit
I1218 01:22:12.305434 29382 replicator.cpp:1258] Replicator=7700876361729 is going to quit
I1218 01:22:12.310099 29382 replicator.cpp:989] Group Atomic Replicator=7718056230913 is going to quit
I1218 01:22:12.320042 29382 replicator.cpp:1258] Replicator=7718056230913 is going to quit
I1218 01:22:12.322839 29382 replicator.cpp:989] Group Atomic Replicator=7735236100097 is going to quit
I1218 01:22:12.323464 29382 replicator.cpp:1258] Replicator=7735236100097 is going to quit
I1218 01:22:12.325404 29382 replicator.cpp:989] Group Atomic Replicator=7752415969281 is going to quit
I1218 01:22:12.326294 29382 replicator.cpp:1258] Replicator=7752415969281 is going to quit
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:22:14.949079 29860 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:22:15.037580 29860 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:22:15.047391 29860 server.cpp:499] Fail to start Server
I1218 01:22:17.742017 29382 node.cpp:1587] node Atomic:10.1.5.3:8700:0 term 40 start pre_vote
I1218 01:22:18.144038 29406 node.cpp:1512] node Atomic:10.1.5.3:8700:0 received PreVoteResponse from 10.1.3.3:8700:0 term 40 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:22:18.248318 29381 node.cpp:1512] node Atomic:10.1.5.3:8700:0 received PreVoteResponse from 10.1.4.3:8700:0 term 40 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:22:18.250023 29381 node.cpp:1653] node Atomic:10.1.5.3:8700:0 term 40 start vote and grant vote self
W1218 01:22:18.333760 29381 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:22:18.339059 29381 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:22:18.343426 29381 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 41 votedfor 10.1.5.3:8700:0 time: 15918
E1218 01:22:18.344898 29381 node.cpp:1711] node Atomic:10.1.5.3:8700:0 fail to set_term_and_votedfor itself when elect_self, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
W1218 01:22:18.352648 29388 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.1.3:8700:0 ctx_version 7 current_ctx_version 8
W1218 01:22:18.355844 29377 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.2.3:8700:0 ctx_version 7 current_ctx_version 8
I1218 01:22:18.569195 29375 node.cpp:1403] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.4.3:8700:0 term 41 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:22:18.624195 29405 node.cpp:1403] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.2.3:8700:0 term 41 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:22:18.680809 29376 node.cpp:1403] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.3.3:8700:0 term 41 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:22:18.682024 29376 node.cpp:1908] node Atomic:10.1.5.3:8700:0 term 41 become leader of group 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0 
I1218 01:22:18.701184 29376 replicator.cpp:143] Replicator=5596342386713@10.1.1.3:8700:0 is started, group Atomic
I1218 01:22:18.864007 29376 replicator.cpp:143] Replicator=6601364733957@10.1.2.3:8700:0 is started, group Atomic
I1218 01:22:18.969753 29376 replicator.cpp:143] Replicator=5519032975369@10.1.3.3:8700:0 is started, group Atomic
I1218 01:22:18.979737 29376 replicator.cpp:143] Replicator=4423816314881@10.1.4.3:8700:0 is started, group Atomic
W1218 01:22:19.236811 29406 node.cpp:1370] node Atomic:10.1.5.3:8700:0 received invalid RequestVoteResponse from 10.1.1.3:8700:0 ctx_version 3 current_ctx_version 4
I1218 01:22:19.251236 29377 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.1.3:8700:0 in term 42 current_term 41 granted 0 rejected_by_lease 0
I1218 01:22:19.525617 29400 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:22:19.529002 29400 node.cpp:3310] node Atomic:10.1.5.3:8700:0 reset ConfigurationCtx, new_peers: 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0, old_peers: 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:22:19.674189 29400 server.cpp:291] Node becomes leader
I1218 01:22:19.867655 29382 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
E1218 01:22:19.875475 29382 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:22:19.876905 29382 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 01:22:19.885214 29383 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
W1218 01:22:19.887081 29383 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
I1218 01:22:19.899884 29383 replicator.cpp:1507] Group Atomic Found 10.1.1.3:8700:0 as the next candidate
I1218 01:22:19.901934 29383 replicator.cpp:989] Group Atomic Replicator=6601364733957 is going to quit
I1218 01:22:19.903751 29383 replicator.cpp:1258] Replicator=6601364733957 is going to quit
I1218 01:22:19.905696 29383 replicator.cpp:989] Group Atomic Replicator=5519032975369 is going to quit
I1218 01:22:19.906311 29383 replicator.cpp:1258] Replicator=5519032975369 is going to quit
I1218 01:22:19.907846 29383 replicator.cpp:989] Group Atomic Replicator=4423816314881 is going to quit
I1218 01:22:19.908424 29383 replicator.cpp:1258] Replicator=4423816314881 is going to quit
I1218 01:22:19.924538 29383 server.cpp:296] Node stepped down : Raft node(leader or candidate) is in error.
I1218 01:22:20.011503 29381 replicator.cpp:1258] Replicator=5596342386713 is going to quit
W1218 01:22:20.218942 29406 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:20.638847 29378 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:20.700948 29378 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:21.033378 29375 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:21.345279 29406 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:21.672698 29388 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:22.335440 29377 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:22.334021 29386 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:23.649447 29376 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:23.696391 29405 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:24.256719 29405 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:24.259389 29405 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:24.859498 29405 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:24.863535 29388 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:25.505235 29406 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:25.579972 29406 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:26.172731 29406 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:26.192130 29376 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:26.744328 29378 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:26.762912 29378 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:27.283421 29375 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:27.311414 29388 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:27.845489 29388 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:27.848711 29377 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:28.405301 29386 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:28.409745 29386 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:28.952229 29386 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:28.952630 29378 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:29.512415 29381 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:29.555809 29381 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:30.068524 29405 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:30.093164 29377 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR

=================================================================
==29860==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f7d58e4c09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
W1218 01:22:30.606065 29377 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f7d58e4c09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
W1218 01:22:30.663164 29377 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f7d58e4c09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:22:31.148576 29377 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:31.196332 29386 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:31.696488 29378 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:31.728658 29378 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:32.262743 29381 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:32.296249 29405 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:32.836580 29388 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:32.840070 29406 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:33.484366 29406 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:33.487306 29406 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:34.025249 29406 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:34.045624 29375 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:34.593292 29378 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:34.600004 29381 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:35.129971 29405 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:35.132356 29405 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:35.708338 29386 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:35.708333 29376 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:36.389640 29406 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:36.412744 29381 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:36.952811 29388 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:36.988710 29378 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:37.518383 29378 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:37.594070 29377 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:38.057554 29376 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:38.117583 29376 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:38.593024 29376 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:38.701133 29376 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:39.146737 29376 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:39.226297 29376 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:39.696956 29405 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:39.790740 29378 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:40.239961 29377 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:40.372614 29375 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:40.812044 29375 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:40.933341 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:41.365008 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:41.458658 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:41.904635 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:41.993315 29383 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:42.476006 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:42.579849 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:43.028896 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:43.121256 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:43.617353 29383 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:43.760910 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:44.188326 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:44.333046 29383 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:44.788885 29383 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:44.874667 29383 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:45.346848 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:45.394208 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:51.867355 29383 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:22:57.777504 29402 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:23:14.288782 30444 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:23:14.317692 30444 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:23:14.319775 30444 server.cpp:499] Fail to start Server
W1218 01:23:16.213163 29383 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:16.503285 29402 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:16.809065 29400 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:16.867293 29383 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:17.210148 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:17.233186 29400 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:17.707473 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:17.836473 29383 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:18.301134 29383 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:18.423123 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:18.862304 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:18.958707 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:19.412315 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:19.498184 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:19.941541 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:20.088109 29382 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:20.537935 29382 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:20.692410 29383 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:21.210707 29383 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:21.250221 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:21.775092 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:21.836323 29383 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:22.323411 29383 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:22.392472 29383 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:22.884541 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:22.976855 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:23.447710 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:23.499599 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:24.485901 29383 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:24.549835 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:25.079488 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:25.125478 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:25.663189 29400 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
W1218 01:23:25.699818 29402 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 41 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:23:58.354748 30946 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:23:58.570290 30946 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:23:58.572142 30946 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:23:58.715965 30946 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:23:58.751757 30946 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:23:58.759155 30946 log.cpp:699] ./data/log is empty
I1218 01:23:58.832928 30946 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 65648
I1218 01:23:58.868896 30946 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:23:58.874015 30946 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:23:58.915504 30946 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 30214
I1218 01:23:58.944005 30946 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:23:58.993645 30946 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:24:02.625938 30997 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 44 current_term 1 granted 1 rejected_by_lease 0
I1218 01:24:03.249850 31010 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 44 current_term 1 log_is_ok 1 votable_time 0
I1218 01:24:03.350330 31010 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 44 votedfor 0.0.0.0:0:0 time: 79088
I1218 01:24:03.426329 31010 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 44 votedfor 10.1.3.3:8700:0 time: 41971
I1218 01:24:04.100845 31002 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=44, status=Follower receives message from new leader with the same term.}
I1218 01:24:04.642233 31010 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=35 last_include_log_term=43 from 10.1.3.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:24:05.568509 31004 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000035
I1218 01:24:05.607980 31004 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000035
I1218 01:24:05.747954 30988 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:24:05.909073 31001 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 36 time: 35721
I1218 01:24:06.243925 30988 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 35 last_included_term: 43 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 01:24:06.322110 31002 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000036' with fd=8
I1218 01:24:06.493129 30997 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:24:57.740816 31612 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:24:58.194849 31612 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:24:58.196379 31612 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:24:58.540885 31612 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:24:58.561782 31612 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:24:58.563486 31612 log.cpp:699] ./data/log is empty
I1218 01:24:58.988627 31612 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 413396
I1218 01:24:59.033691 31612 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:24:59.087138 31612 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:24:59.088877 31612 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 2208
I1218 01:24:59.090360 31612 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:24:59.138121 31612 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:25:00.762658 31658 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 45 current_term 1 granted 1 rejected_by_lease 0
I1218 01:25:01.144408 31694 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 45 current_term 1 log_is_ok 1 votable_time 0
I1218 01:25:01.208998 31694 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 45 votedfor 0.0.0.0:0:0 time: 30584
I1218 01:25:01.256955 31694 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 45 votedfor 10.1.3.3:8700:0 time: 35209
I1218 01:25:01.401011 31683 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=45, status=Follower receives message from new leader with the same term.}
I1218 01:25:01.711019 31681 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=37 last_include_log_term=44 from 10.1.3.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:25:02.921761 31658 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000037
I1218 01:25:02.951064 31658 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000037
I1218 01:25:03.547294 31658 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:25:03.573799 31658 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 37 last_included_term: 44 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 01:25:03.604169 31668 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 38 time: 27177
I1218 01:25:03.741024 31677 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:25:03.715672 31683 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000038' with fd=7
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:25:20.235777 31820 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:25:20.253101 31820 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:25:20.255146 31820 server.cpp:499] Fail to start Server
I1218 01:25:22.747694 31666 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 46 current_term 45 granted 1 rejected_by_lease 0
I1218 01:25:23.097357 31681 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 46 current_term 45 log_is_ok 1 votable_time 0
I1218 01:25:23.106048 31658 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=45, status=Raft node receives higher term request_vote_request.}
W1218 01:25:23.134021 31681 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:25:23.136710 31681 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:25:23.198294 31681 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 46 votedfor 0.0.0.0:0:0 time: 97019
E1218 01:25:23.239305 31681 node.cpp:1816] node Atomic:10.1.5.3:8700:0 fail to set_term_and_votedfor when step_down, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
W1218 01:25:23.241621 31681 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:25:23.242229 31681 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:25:23.260711 31681 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 46 votedfor 10.1.3.3:8700:0 time: 18987
E1218 01:25:23.261798 31681 node.cpp:2244] node Atomic:10.1.5.3:8700:0 refuse to vote for 10.1.3.3:8700:0 because failed to set_votedfor it, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
I1218 01:25:23.692051 31673 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=46, status=Follower receives message from new leader with the same term.}
I1218 01:25:24.048831 31658 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:25:26.730775 31672 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
E1218 01:25:26.733183 31672 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:25:26.734315 31672 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 01:25:26.737926 31683 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
W1218 01:25:26.739574 31683 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
I1218 01:25:26.741784 31683 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=46, status=Raft node(leader or candidate) is in error.}
W1218 01:25:30.738183 31666 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 46 state ERROR
W1218 01:25:30.860898 31672 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 46 state ERROR
W1218 01:25:32.066078 31682 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 46 state ERROR
W1218 01:25:32.465118 31694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 46 state ERROR
W1218 01:25:32.688638 31683 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 46 state ERROR
W1218 01:25:33.054286 31683 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 46 state ERROR
W1218 01:25:33.327798 31668 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 46 state ERROR
W1218 01:25:33.637270 31658 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 46 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:26:16.826120 32524 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:26:17.969756 32524 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:26:17.972224 32524 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:26:18.782132 32524 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:26:18.818027 32524 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:26:18.854986 32524 log.cpp:699] ./data/log is empty
I1218 01:26:19.160499 32524 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 260821
I1218 01:26:19.213150 32524 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:26:19.264760 32524 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:26:19.267061 32524 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 1975
I1218 01:26:19.268664 32524 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:26:19.303606 32524 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:26:22.486279 32587 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.1.3:8700:0 in term 48 current_term 1 granted 1 rejected_by_lease 0
I1218 01:26:23.216666 32578 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.1.3:8700:0 in term 48 current_term 1 log_is_ok 1 votable_time 0
I1218 01:26:23.280508 32578 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 48 votedfor 0.0.0.0:0:0 time: 30103
I1218 01:26:23.313252 32578 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 48 votedfor 10.1.1.3:8700:0 time: 30224
I1218 01:26:23.665007 32583 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 48 current_term 48 granted 1 rejected_by_lease 0
I1218 01:26:24.875015 32578 server.cpp:312] Node start following { leader_id=10.1.1.3:8700:0, term=48, status=Follower receives message from new leader with the same term.}
I1218 01:26:25.888895 32567 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=39 last_include_log_term=46 from 10.1.1.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:26:26.676151 32582 socket.cpp:2570] Checking Socket{id=279 addr=10.1.1.3:8700} (0x6310000a0800)
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:27:01.384991 33051 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:27:02.047284 33051 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:27:02.048647 33051 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:27:02.192853 33051 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:27:02.195077 33051 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:27:02.196242 33051 log.cpp:699] ./data/log is empty
I1218 01:27:02.232837 33051 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 33240
I1218 01:27:02.237918 33051 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:27:02.277676 33051 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:27:02.280603 33051 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 1669
I1218 01:27:02.282771 33051 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:27:02.284922 33051 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:27:03.782819 33129 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:27:03.792477 33129 snapshot_executor.cpp:154] node Atomic:10.1.5.3:8700:0 the gap between fsm applied index 0 and last_snapshot_index 0 is less than 1, will clear bufferred logs and return success
I1218 01:27:06.787158 33099 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 49 current_term 1 granted 1 rejected_by_lease 0
I1218 01:27:09.586918 33104 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 49 current_term 1 granted 1 rejected_by_lease 0
I1218 01:27:09.897420 33124 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.2.3:8700:0 in term 49 current_term 1 log_is_ok 1 votable_time 0
I1218 01:27:09.975601 33124 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 49 votedfor 0.0.0.0:0:0 time: 59845
I1218 01:27:10.004762 33124 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 49 votedfor 10.1.2.3:8700:0 time: 24428
I1218 01:27:10.582940 33116 server.cpp:312] Node start following { leader_id=10.1.2.3:8700:0, term=49, status=Follower receives message from new leader with the same term.}
I1218 01:27:11.336897 33132 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=40 last_include_log_term=47 from 10.1.2.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:27:11.685964 33116 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000040
I1218 01:27:11.688084 33116 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000040
I1218 01:27:11.718377 33116 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:27:11.737085 33116 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 40 last_included_term: 47 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 01:27:11.783360 33099 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 41 time: 27511
I1218 01:27:11.869689 33124 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000041' with fd=9
I1218 01:27:11.921680 33124 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:27:11.926916 33124 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:27:32.342741 33129 server.cpp:309] Node stops following { leader_id=10.1.2.3:8700:0, term=49, status=Lost connection from leader 10.1.2.3:8700:0}
I1218 01:27:32.359869 33134 node.cpp:1587] node Atomic:10.1.5.3:8700:0 term 49 start pre_vote
I1218 01:27:32.901116 33104 node.cpp:1512] node Atomic:10.1.5.3:8700:0 received PreVoteResponse from 10.1.3.3:8700:0 term 49 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:27:32.946801 33128 node.cpp:1512] node Atomic:10.1.5.3:8700:0 received PreVoteResponse from 10.1.1.3:8700:0 term 49 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:27:32.948870 33128 node.cpp:1653] node Atomic:10.1.5.3:8700:0 term 49 start vote and grant vote self
W1218 01:27:33.053903 33128 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:27:33.079663 33128 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:27:33.111457 33128 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 50 votedfor 10.1.5.3:8700:0 time: 50109
E1218 01:27:33.113358 33128 node.cpp:1711] node Atomic:10.1.5.3:8700:0 fail to set_term_and_votedfor itself when elect_self, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
W1218 01:27:33.115342 33099 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.4.3:8700:0 ctx_version 5 current_ctx_version 6
I1218 01:27:33.340845 33130 node.cpp:1403] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.1.3:8700:0 term 50 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:27:33.359953 33132 node.cpp:1403] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.3.3:8700:0 term 50 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:27:33.535673 33130 node.cpp:1403] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.4.3:8700:0 term 50 granted 1 rejected_by_lease 0 disrupted 0
I1218 01:27:33.538153 33130 node.cpp:1908] node Atomic:10.1.5.3:8700:0 term 50 become leader of group 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0 
I1218 01:27:33.570794 33130 replicator.cpp:143] Replicator=6601364733958@10.1.1.3:8700:0 is started, group Atomic
I1218 01:27:33.656176 33130 replicator.cpp:143] Replicator=3307124817921@10.1.2.3:8700:0 is started, group Atomic
I1218 01:27:33.686973 33130 replicator.cpp:143] Replicator=3324304687105@10.1.3.3:8700:0 is started, group Atomic
I1218 01:27:33.704424 33130 replicator.cpp:143] Replicator=3341484556289@10.1.4.3:8700:0 is started, group Atomic
I1218 01:27:33.948628 33102 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
E1218 01:27:33.993538 33102 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:27:33.995368 33102 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
W1218 01:27:34.031421 33132 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.2.3:8700:0 error: [E2][10.1.2.3:8700][E2]peer_id not exist
W1218 01:27:34.036118 33122 node.cpp:1454] node Atomic:10.1.5.3:8700:0 received RequestVoteResponse from 10.1.2.3:8700:0 error: [E2][10.1.2.3:8700][E2]peer_id not exist
E1218 01:27:33.998286 33133 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
W1218 01:27:34.095175 33133 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
I1218 01:27:34.244354 33133 node.cpp:3310] node Atomic:10.1.5.3:8700:0 reset ConfigurationCtx, new_peers: 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0, old_peers: 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
W1218 01:27:34.280512 33130 replicator.cpp:397] Group Atomic fail to issue RPC to 10.1.2.3:8700:0 _consecutive_error_times=1, [E2][10.1.2.3:8700][E2]peer_id not exist [R1][E2][10.1.2.3:8700][E2]peer_id not exist [R2][E2][10.1.2.3:8700][E2]peer_id not exist [R3][E2][10.1.2.3:8700][E2]peer_id not exist
I1218 01:27:34.316174 33133 replicator.cpp:1507] Group Atomic Found 10.1.1.3:8700:0 as the next candidate
I1218 01:27:34.398197 33133 replicator.cpp:989] Group Atomic Replicator=3307124817921 is going to quit
I1218 01:27:34.405860 33133 replicator.cpp:1258] Replicator=3307124817921 is going to quit
I1218 01:27:34.489360 33133 replicator.cpp:989] Group Atomic Replicator=3324304687105 is going to quit
I1218 01:27:34.490192 33133 replicator.cpp:1258] Replicator=3324304687105 is going to quit
I1218 01:27:34.517462 33133 replicator.cpp:989] Group Atomic Replicator=3341484556289 is going to quit
I1218 01:27:34.518258 33133 replicator.cpp:1258] Replicator=3341484556289 is going to quit
I1218 01:27:34.708040 33124 replicator.cpp:1258] Replicator=6601364733958 is going to quit
I1218 01:27:34.752131 33133 server.cpp:296] Node stepped down : Raft node(leader or candidate) is in error.
W1218 01:27:35.151726 33130 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:35.627156 33116 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:27:35.511474 33385 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:27:35.829874 33385 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:27:35.880451 33385 server.cpp:499] Fail to start Server
W1218 01:27:35.955611 33099 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:36.237641 33122 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:36.509133 33124 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:36.825150 33133 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:37.324544 33133 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:37.406214 33130 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:37.923137 33104 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:37.985183 33132 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:38.499085 33116 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:38.547405 33116 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:39.029224 33122 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:39.164559 33122 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:39.683305 33128 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:40.176035 33133 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:40.684738 33130 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:41.000361 33130 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:41.253496 33130 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:41.539752 33099 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:41.872867 33116 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:42.082710 33124 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:42.408717 33122 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:42.657023 33128 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:42.949065 33128 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:43.244553 33104 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:43.517716 33104 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:43.796442 33130 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:27:50.864367 33116 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR

=================================================================
==33385==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f53cf19a09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f53cf19a09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f53cf19a09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:27:54.310130 33590 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:27:54.642062 33590 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:27:54.796487 33590 server.cpp:499] Fail to start Server
W1218 01:27:56.704794 33128 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:02.137101 33132 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:02.292743 33124 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:02.508244 33128 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:02.688680 33128 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:03.201701 33130 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:03.667241 33133 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:03.844959 33116 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:04.240588 33116 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:04.456270 33116 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:04.994329 33132 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:05.069049 33128 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:05.669878 33128 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:05.673592 33130 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:06.217312 33122 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:06.287273 33133 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:06.828517 33104 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:06.859211 33104 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:07.378758 33099 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:07.393728 33099 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:07.918370 33124 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:08.100554 33124 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:08.655458 33124 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:08.656519 33122 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:09.221096 33133 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
W1218 01:28:09.231990 33133 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 50 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:28:34.565696 33992 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:28:35.117832 33992 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:28:35.143932 33992 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:28:35.587071 33992 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:28:35.589393 33992 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:28:35.591440 33992 log.cpp:699] ./data/log is empty
I1218 01:28:35.664747 33992 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 71239
I1218 01:28:35.669498 33992 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:28:35.674108 33992 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:28:35.676832 33992 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 2187
I1218 01:28:35.687376 33992 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:28:35.691099 33992 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:28:41.855753 34041 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.1.3:8700:0 in term 53 current_term 1 granted 1 rejected_by_lease 0
I1218 01:28:41.897082 34040 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 53 current_term 1 granted 1 rejected_by_lease 0
I1218 01:28:42.488081 34040 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 53 current_term 1 log_is_ok 1 votable_time 0
I1218 01:28:42.542650 34040 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 53 votedfor 0.0.0.0:0:0 time: 33000
I1218 01:28:42.568737 34040 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 53 votedfor 10.1.3.3:8700:0 time: 20794
I1218 01:28:42.571888 34071 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.1.3:8700:0 in term 53 current_term 53 log_is_ok 1 votable_time 0
I1218 01:28:42.993901 34043 server.cpp:312] Node start following { leader_id=10.1.1.3:8700:0, term=53, status=Follower receives message from new leader with the same term.}
I1218 01:28:43.586262 34071 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=44 last_include_log_term=51 from 10.1.1.3:8700:0 when last_log_id=(index=0,term=0)
W1218 01:28:45.220376 34040 input_messenger.cpp:381] Fail to read from Socket{id=8589934964 fd=7 addr=10.1.1.3:52976:8700} (0x6310000c8800): Connection reset by peer [104]
W1218 01:28:45.248895 34071 input_messenger.cpp:381] Fail to read from Socket{id=465 fd=8 addr=10.1.1.3:8700:45940} (0x6310000f0800): Connection reset by peer [104]
I1218 01:28:45.359879 34043 socket.cpp:2570] Checking Socket{id=465 addr=10.1.1.3:8700} (0x6310000f0800)
I1218 01:28:45.555387 34071 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
W1218 01:28:48.277230 34043 snapshot.cpp:819] Fail to copy meta file : [E112]Not connected to 10.1.1.3:8700 yet, server_id=465 [R1][E112]Not connected to 10.1.1.3:8700 yet, server_id=465 [R2][E112]Not connected to 10.1.1.3:8700 yet, server_id=465 [R3][E112]Not connected to 10.1.1.3:8700 yet, server_id=465
W1218 01:28:48.335695 34043 baidu_rpc_protocol.cpp:349] Fail to write into Socket{id=8589934964 fd=7 addr=10.1.1.3:52976:8700} (0x6310000c8800): Connection reset by peer [104]
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:28:52.887969 34198 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:28:52.944415 34198 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:28:53.007889 34198 server.cpp:499] Fail to start Server
I1218 01:28:53.885140 34044 node.cpp:1587] node Atomic:10.1.5.3:8700:0 term 53 start pre_vote
W1218 01:28:53.913081 34044 node.cpp:1597] node Atomic:10.1.5.3:8700:0 can't do pre_vote as it is not in 
I1218 01:28:53.892079 34071 server.cpp:309] Node stops following { leader_id=10.1.1.3:8700:0, term=53, status=Lost connection from leader 10.1.1.3:8700:0}
I1218 01:28:54.642002 34040 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 54 current_term 53 granted 1 rejected_by_lease 0
I1218 01:28:55.235440 34044 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 54 current_term 53 log_is_ok 1 votable_time 0
W1218 01:28:55.237645 34044 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:28:55.251715 34044 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:28:55.263113 34044 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 54 votedfor 0.0.0.0:0:0 time: 20366
E1218 01:28:55.275538 34044 node.cpp:1816] node Atomic:10.1.5.3:8700:0 fail to set_term_and_votedfor when step_down, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
W1218 01:28:55.282176 34044 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:28:55.283413 34044 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:28:55.284076 34044 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 54 votedfor 10.1.3.3:8700:0 time: 2235
E1218 01:28:55.302853 34044 node.cpp:2244] node Atomic:10.1.5.3:8700:0 refuse to vote for 10.1.3.3:8700:0 because failed to set_votedfor it, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
I1218 01:28:55.865005 34071 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=54, status=Follower receives message from new leader with the same term.}
I1218 01:28:56.351899 34040 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=44 last_include_log_term=51 from 10.1.3.3:8700:0 when last_log_id=(index=0,term=0)
E1218 01:28:57.402294 34045 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:28:57.488128 34045 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 01:28:57.593014 34040 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create snapshot writer'}
W1218 01:28:57.602339 34040 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create snapshot writer'}
I1218 01:28:57.751737 34040 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=54, status=Raft node(leader or candidate) is in error.}
W1218 01:28:57.877085 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:28:58.377213 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:28:58.521459 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:28:58.944182 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:28:59.319214 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:28:59.493206 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:28:59.919843 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:00.020831 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:00.468294 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:00.555723 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:01.026273 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:01.121834 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:01.690604 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:02.572081 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:03.040719 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:03.310655 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:03.605039 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:03.869655 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:04.178256 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:04.564404 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:04.784335 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:05.135550 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:05.332038 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:05.695600 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:05.904582 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:06.282001 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:06.484752 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:06.921983 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:07.197754 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:07.489322 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:07.799274 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:08.028905 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:08.464623 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:08.609736 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:09.023290 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:09.176362 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:09.557636 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:09.765503 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:10.178902 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:10.470961 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:10.757234 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:11.101783 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:11.329147 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:11.648324 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:11.877575 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR

=================================================================
==34198==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f05a468c09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f05a468c09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f05a468c09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:29:16.398875 34436 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:29:17.144272 34415 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:29:17.176718 34415 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:29:17.192688 34415 server.cpp:499] Fail to start Server
W1218 01:29:17.783363 34044 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:18.084650 34040 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:18.739650 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:19.169014 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:19.284937 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:19.705403 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:19.801244 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:20.245487 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:20.336971 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:20.805864 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:20.940795 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:21.381057 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:21.492939 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:22.015493 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:22.017623 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:22.555716 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:22.604779 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:23.080461 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:23.145959 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:23.648422 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:23.703469 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:24.176698 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:24.262017 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:24.796737 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:24.828819 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:25.376138 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:25.394287 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:26.002728 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:26.017871 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:26.573340 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:26.616901 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:27.235867 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:27.237962 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:27.796651 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:27.799407 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:28.352520 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:28.368708 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:28.896152 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:28.907429 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:29.456588 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:29.465721 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:30.300300 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:30.300300 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:30.872741 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:30.953886 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:31.472486 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:31.580291 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:32.040324 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:32.132349 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:32.564877 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:32.760365 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:33.193289 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:33.387209 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:33.761054 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:33.931051 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:34.326345 34043 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:34.396764 34040 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:34.489971 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:34.490725 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:34.693504 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR

=================================================================
==34415==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f544bf6909a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f544bf6909a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f544bf6909a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:29:35.142227 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:35.252005 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:35.700277 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:35.839313 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:36.261077 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:36.364130 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:36.814373 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:36.882683 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:37.392987 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:37.452981 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:38.028846 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:38.137861 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:38.687476 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:38.734762 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:39.224192 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:39.300240 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:39.772643 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:39.860405 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:40.444712 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:40.458894 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:41.478816 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:41.464674 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:42.048874 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:42.055155 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:42.597047 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:42.632997 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:43.134250 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:43.172715 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:43.756954 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:43.771723 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:51.266216 34071 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:29:51.393265 34764 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:29:51.408814 34764 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:29:51.427255 34764 server.cpp:499] Fail to start Server
W1218 01:29:57.575012 34043 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:58.172777 34071 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:58.515631 34040 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:58.872236 34071 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:58.908398 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:59.268097 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:59.490784 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:59.500041 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:29:59.939458 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:00.043097 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:00.508433 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:00.605324 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:01.058815 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:01.207412 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:01.637097 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:01.780157 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:02.208734 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:02.311317 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:02.738705 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:02.876281 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:03.529353 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:03.545023 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:04.109086 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:04.110356 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:04.661116 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:04.667905 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:05.191262 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:05.216629 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:05.728719 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:05.737608 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:06.258299 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:06.259205 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:06.784849 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:06.793975 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:07.364117 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:07.366981 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:08.311852 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:08.330791 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:08.958972 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:08.964159 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:09.499621 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:09.536603 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR

=================================================================
==34764==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
W1218 01:30:10.030046 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
    #5 0x7f50aa1e409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f50aa1e409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

W1218 01:30:10.091481 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f50aa1e409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:30:10.564049 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:10.643172 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:11.153625 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:11.158331 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:11.675639 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:11.696357 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:12.202558 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:12.220248 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:12.732731 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:12.748955 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:13.267639 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:13.284457 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:13.817577 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:13.836905 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:14.365435 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:14.432395 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:14.926942 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:14.981310 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:15.508750 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:15.515236 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:16.048673 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:16.113526 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:16.649178 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:16.684695 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:17.229645 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:17.276669 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:17.778831 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:17.795262 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:18.306171 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:18.313606 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:18.839325 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:18.848798 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:19.369139 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:19.408025 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:19.893187 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:19.988972 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:20.477432 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:20.624660 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:21.144851 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:21.260625 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:21.752169 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:22.320087 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:22.407826 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:22.900676 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:22.960090 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:23.420671 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:23.541115 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:23.987026 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:24.092305 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:24.511296 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:24.668272 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:25.058640 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:25.266698 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:25.697111 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:25.806145 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:26.255106 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:26.392138 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:26.800027 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:26.951426 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:27.357159 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:27.524391 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:27.988281 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:28.118367 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:28.525493 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:28.666597 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:29.119690 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:29.226680 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:29.679050 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:29.751892 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:30.260766 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:30.333024 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:30:38.705221 35222 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:30:39.057457 35209 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:30:39.080138 35209 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:30:39.082139 35209 server.cpp:499] Fail to start Server
W1218 01:30:47.481669 34045 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:49.163906 34071 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:50.279862 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:50.734719 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:50.932505 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:30:51.340314 34045 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR

=================================================================
==35209==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fcaf8df909a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fcaf8df909a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fcaf8df909a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:31:03.233474 35446 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
W1218 01:31:03.368906 34071 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
E1218 01:31:03.487483 35446 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:31:03.495481 35446 server.cpp:499] Fail to start Server
W1218 01:31:03.937426 34043 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:04.839316 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:05.240052 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:05.449424 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:05.847224 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:05.988144 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:06.409457 34044 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:06.526317 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:07.072867 34071 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:07.114732 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:07.635237 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:07.649763 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:14.837213 34043 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:14.817437 34056 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:14.822372 34040 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:14.839412 34067 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:15.467401 34073 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:15.560709 34046 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:16.039956 34059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:16.156358 34062 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:16.600117 34039 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:16.726238 34061 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:17.283092 34073 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:17.324932 34042 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:17.804229 34046 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:17.861622 34059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:18.352384 34062 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:18.405550 34039 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:18.931095 34061 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:18.937548 34073 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:19.569883 34061 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:19.570340 34046 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:20.152666 34059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:20.163987 34059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:20.757191 34062 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:20.759744 34062 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
W1218 01:31:21.284773 34062 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 54 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:32:25.869010 36415 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:32:26.503578 36415 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:32:26.505175 36415 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:32:27.153978 36415 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:32:27.156414 36415 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:32:27.157652 36415 log.cpp:699] ./data/log is empty
I1218 01:32:27.300669 36415 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 124102
I1218 01:32:27.313933 36415 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:32:27.341030 36415 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:32:27.349627 36415 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 2288
I1218 01:32:27.354979 36415 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:32:27.368032 36415 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:32:35.042598 36467 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 61 current_term 1 granted 1 rejected_by_lease 0
I1218 01:32:35.615099 36465 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:32:35.616914 36465 snapshot_executor.cpp:154] node Atomic:10.1.5.3:8700:0 the gap between fsm applied index 0 and last_snapshot_index 0 is less than 1, will clear bufferred logs and return success
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:33:17.405205 37037 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:33:17.796626 37021 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:33:18.185688 37021 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:33:18.231220 37021 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:33:18.613904 37021 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:33:18.616211 37021 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:33:18.617362 37021 log.cpp:699] ./data/log is empty
I1218 01:33:18.805003 37021 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 147606
I1218 01:33:18.832098 37021 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:33:18.843056 37021 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:33:18.845927 37021 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 2751
I1218 01:33:18.863862 37021 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:33:18.918229 37021 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:33:25.831800 37084 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 61 current_term 1 log_is_ok 1 votable_time 0
I1218 01:33:26.317087 37084 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 61 votedfor 0.0.0.0:0:0 time: 127790
I1218 01:33:26.524895 37084 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 61 votedfor 10.1.3.3:8700:0 time: 161062
I1218 01:33:26.611277 37082 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=61, status=Follower receives message from new leader with the same term.}
I1218 01:33:27.333001 37117 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=49 last_include_log_term=56 from 10.1.3.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:33:28.129022 37105 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000049
I1218 01:33:28.139118 37105 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000049
I1218 01:33:28.199084 37105 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:33:28.313079 37105 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 49 last_included_term: 56 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
W1218 01:33:28.327406 37085 protobuf_file.cpp:45] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
E1218 01:33:28.342339 37085 log.cpp:1152] Fail to save meta to ./data/log/log_meta: No such file or directory [2]
I1218 01:33:28.382195 37085 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 50 time: 48574
E1218 01:33:28.416224 37085 log.cpp:855] Fail to save meta, path: ./data/log: No such file or directory [2]
E1218 01:33:28.452621 37105 server.cpp:303] Met raft error {type=LogError, error_code=-1, error_text=`Failed operation on LogStorage'}
W1218 01:33:28.453935 37105 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=LogError, error_code=-1, error_text=`Failed operation on LogStorage'}
I1218 01:33:28.473259 37105 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=61, status=Raft node(leader or candidate) is in error.}
W1218 01:33:28.666306 37117 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:29.052748 37114 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:29.190299 37082 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:29.713155 37082 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:29.742959 37101 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:30.274756 37085 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:30.316416 37084 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:30.813313 37084 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:30.845707 37114 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:31.365562 37105 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:31.391897 37105 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:31.892884 37082 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:31.949208 37085 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:32.437738 37117 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:32.508740 37084 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:33.009331 37084 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:33.055337 37101 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:33.588006 37101 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:33.640254 37101 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:34.165836 37085 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:34.219863 37117 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:34.747028 37114 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:34.792729 37084 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:35.331873 37105 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:35.349100 37082 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:36.228318 37085 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:36.228318 37101 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:36.838907 37117 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:37.000996 37117 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:37.048408 37117 baidu_rpc_protocol.cpp:349] Fail to write into Socket{id=186 fd=8 addr=10.1.3.3:48532:8700} (0x631000078800): Unknown error 1014 [1014]
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:33:38.810098 37255 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:33:38.827811 37255 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:33:38.829514 37255 server.cpp:499] Fail to start Server
W1218 01:33:42.832930 37103 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:43.376854 37105 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:43.917357 37105 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:44.425520 37105 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:44.534936 37082 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:44.976449 37085 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:45.171339 37085 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:45.693679 37085 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:45.711939 37117 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:46.304695 37084 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:46.307240 37084 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:46.870033 37101 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:46.879148 37105 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:47.508666 37114 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:47.519464 37114 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:48.112951 37117 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:48.115500 37117 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:48.662330 37084 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:48.684751 37084 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:49.619877 37114 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:49.617379 37105 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:50.280676 37085 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:50.295569 37085 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:50.844822 37117 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:50.862993 37117 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:51.379030 37101 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:51.381140 37101 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:51.908285 37114 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:51.928149 37114 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:52.500108 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:52.510017 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:53.050145 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:53.082311 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:53.601475 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:53.716012 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:54.128638 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:54.252311 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:54.657058 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:54.788615 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:55.200593 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:55.332697 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR

=================================================================
==37255==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f1accb4d09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f1accb4d09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
W1218 01:33:55.718385 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f1accb4d09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:33:55.877377 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:56.253876 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:56.401845 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:56.792122 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:56.972004 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:57.373711 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:57.538861 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:57.962324 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:58.070013 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:58.500885 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:58.648397 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:59.033983 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:59.204813 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:59.619304 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:33:59.756058 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:00.194988 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:00.388017 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:00.783617 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:01.007328 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:01.352929 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:01.611524 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:02.411618 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:02.436420 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:02.971994 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:02.991302 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:03.505553 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:03.532147 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:04.089599 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:04.092316 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:04.677982 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:04.680531 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:05.248907 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:05.281904 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:05.951757 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:05.973790 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:06.559561 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:06.608968 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:07.136097 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:07.157049 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:07.696362 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:07.748159 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:08.256310 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:08.359234 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:08.823009 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:08.936651 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:09.374212 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:09.527752 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:09.932192 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:10.148263 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:10.479584 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:10.713826 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:11.096406 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:11.264644 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:11.638862 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:11.816128 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:12.207310 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:12.379684 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:12.777490 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:12.940500 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:13.919808 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:13.974633 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:14.523190 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:14.559621 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:34:19.379734 37649 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:34:19.461967 37649 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:34:19.520646 37649 server.cpp:499] Fail to start Server
W1218 01:34:20.796911 37097 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:21.284171 37109 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:21.772969 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:22.245098 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:22.296572 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:22.786044 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:22.895268 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:23.431921 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:23.472110 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:23.989861 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:24.012977 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:24.560709 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:24.589047 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:25.132582 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:25.141000 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:25.708534 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:25.727438 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:26.275454 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:26.340139 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:27.029908 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:27.036260 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:27.652729 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:27.680545 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:28.188607 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:28.313004 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:28.773713 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:28.940621 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:29.325901 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:29.480683 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:30.022383 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:30.034749 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:30.597329 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:30.600267 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:31.137418 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:31.140103 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:31.665551 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:31.703081 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:32.228175 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:32.254244 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:32.780447 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:32.808468 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:33.335616 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:33.351776 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:33.888089 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:33.933477 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:34.504930 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:34.515621 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:35.092446 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:35.092672 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:35.683578 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:35.732600 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:36.244683 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:36.292320 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:36.784396 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:36.852720 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:42.968375 37109 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:34:44.068195 37905 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:34:45.346437 37888 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:34:45.442078 37888 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:34:45.447866 37888 server.cpp:499] Fail to start Server

=================================================================
==37649==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f414706709a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f414706709a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f414706709a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:34:48.712555 37081 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:48.883450 37097 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:49.317010 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:49.365098 37097 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:49.776501 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:50.031577 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:50.372368 37037 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:34:50.437518 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:50.608774 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:50.997956 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:51.157086 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:51.584930 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:51.699288 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:52.156872 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:52.221405 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:53.302714 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:53.288991 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:53.876989 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:53.911809 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:54.464396 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:54.484118 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:55.029732 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:55.045141 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:55.589502 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:55.631837 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:56.157603 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:56.165733 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:56.746651 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:56.785025 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:57.328991 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:57.338333 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:57.895157 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:57.897686 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:58.451614 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:58.452049 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:59.061793 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:59.085727 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:59.625694 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:34:59.647856 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:00.232841 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:00.237643 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR

=================================================================
==37888==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fcddf85b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fcddf85b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
W1218 01:35:00.784262 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:00.784929 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fcddf85b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:35:01.342914 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:01.371508 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:01.889773 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:01.903779 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:02.453027 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:02.480065 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:02.977000 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:03.022629 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:03.528937 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:03.560819 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:04.093065 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:04.161063 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:04.621636 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:04.722245 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:05.221709 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:05.253065 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:05.784322 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:05.792603 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:06.351290 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:06.366282 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:06.987293 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:06.999881 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:07.548862 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:07.608954 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:08.137974 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:08.140295 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:08.704373 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:08.719058 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:09.219924 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:09.256457 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:09.790659 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:09.793001 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:10.337889 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:10.340008 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:10.960916 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:10.986994 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:11.504624 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:11.547216 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:12.036728 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:12.108196 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:12.567777 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:12.647454 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:13.101533 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:13.181695 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:13.629171 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:13.711894 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:14.152601 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:14.237044 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:14.713434 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:14.841753 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:15.280951 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:15.402869 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:15.903825 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:15.932691 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:16.448707 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:16.476949 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:17.032529 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:17.044961 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:17.596477 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:17.600370 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:18.141667 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:18.156369 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:27.957298 37103 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:28.133239 37097 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:33.259541 37109 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:33.338937 37103 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:35:38.736737 37097 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:36:25.695225 38877 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:36:25.772717 38877 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:36:25.775635 38877 server.cpp:499] Fail to start Server
W1218 01:36:30.281709 37109 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:30.733709 37081 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:32.238294 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:32.342096 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:32.784277 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:32.941562 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:33.330215 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:33.503490 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:33.905081 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:34.022765 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:34.620540 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:34.701676 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:35.173416 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:35.306272 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:35.715199 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:35.831926 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:36.261710 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:36.364786 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:36.783972 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:36.942391 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:37.323603 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:37.464627 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:37.870209 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:38.007440 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:38.392325 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:38.534848 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR

=================================================================
==38877==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f80871b509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
W1218 01:36:38.918696 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f80871b509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f80871b509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:36:39.080909 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:39.458978 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:39.632463 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:40.003011 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:40.184859 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:40.581964 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:40.735762 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:41.118028 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:41.264794 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:41.709357 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:41.792053 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:42.235126 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:42.322291 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:42.865394 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:42.867647 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:43.437320 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:43.447715 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:43.974078 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:43.977380 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:44.530000 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:44.532228 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:45.196470 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:45.232690 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:45.745874 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:45.758136 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:46.293076 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:46.324070 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:46.859841 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:46.862099 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:47.421404 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:47.427035 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:47.998323 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:48.013382 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:48.577930 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:48.589924 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:49.109645 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:49.111953 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:49.665416 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:49.683432 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:50.257606 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:50.306900 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:50.796633 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:50.848650 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:51.338223 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:51.392592 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:51.891100 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:51.921811 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:52.456485 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:52.497483 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:53.020797 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:53.048965 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:53.579733 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:53.588212 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:54.112737 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:54.128451 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:54.671602 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:54.697635 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:55.213667 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:55.236671 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:55.817154 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:55.821275 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:56.409794 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:56.420040 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:56.939435 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:56.954872 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:57.472642 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:57.538231 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:58.016896 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:58.085391 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:58.708392 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:58.710960 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:59.276240 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:59.328277 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:59.819288 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:36:59.923998 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:37:00.404670 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:37:00.488687 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:37:01.001863 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:37:01.088124 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:37:01.610772 37103 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:37:01.640895 37081 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:37:02.168221 37097 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:37:02.203143 37109 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:37:07.900389 37103 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
W1218 01:37:10.668920 37097 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 61 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:37:35.557839 39678 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:37:35.700966 39658 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:37:36.161370 39658 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:37:36.163255 39658 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:37:36.765933 39658 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:37:36.783457 39658 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:37:36.784839 39658 log.cpp:699] ./data/log is empty
I1218 01:37:36.928103 39658 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 140839
I1218 01:37:37.003985 39658 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:37:37.095726 39658 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:37:37.123203 39658 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 14516
I1218 01:37:37.237675 39658 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:37:37.249634 39658 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:37:43.164662 39707 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 66 current_term 1 granted 1 rejected_by_lease 0
I1218 01:37:43.316097 39704 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 66 current_term 1 granted 1 rejected_by_lease 0
I1218 01:37:43.907923 39700 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 66 current_term 1 log_is_ok 1 votable_time 0
I1218 01:37:43.983161 39700 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 66 votedfor 0.0.0.0:0:0 time: 45356
I1218 01:37:44.123746 39700 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 66 votedfor 10.1.3.3:8700:0 time: 79495
I1218 01:37:44.132638 39710 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.2.3:8700:0 in term 66 current_term 66 log_is_ok 1 votable_time 0
I1218 01:37:44.444284 39707 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=66, status=Follower receives message from new leader with the same term.}
I1218 01:37:44.876509 39700 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=57 last_include_log_term=65 from 10.1.3.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:37:45.574093 39721 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000057
I1218 01:37:45.591966 39721 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000057
I1218 01:37:45.652698 39704 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:37:45.712528 39717 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 58 time: 26535
I1218 01:37:45.720649 39704 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 57 last_included_term: 65 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 01:37:45.936746 39700 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000058' with fd=7
I1218 01:37:45.965675 39700 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:38:19.179141 40154 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:38:19.648605 40154 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:38:19.664425 40154 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:38:20.010695 40154 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:38:20.027060 40154 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:38:20.028319 40154 log.cpp:699] ./data/log is empty
I1218 01:38:20.088135 40154 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 56800
I1218 01:38:20.108737 40154 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:38:20.157403 40154 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:38:20.195778 40154 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 1870
I1218 01:38:20.197700 40154 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:38:20.239820 40154 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:38:30.759044 40201 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 67 current_term 1 granted 1 rejected_by_lease 0
I1218 01:38:31.261534 40194 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 68 current_term 1 granted 1 rejected_by_lease 0
I1218 01:38:31.670318 40193 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.1.3:8700:0 in term 68 current_term 1 granted 1 rejected_by_lease 0
I1218 01:38:31.920495 40206 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.2.3:8700:0 in term 68 current_term 1 log_is_ok 1 votable_time 0
I1218 01:38:31.962309 40206 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 68 votedfor 0.0.0.0:0:0 time: 24903
I1218 01:38:32.002126 40206 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 68 votedfor 10.1.2.3:8700:0 time: 16929
I1218 01:38:32.448045 40192 server.cpp:312] Node start following { leader_id=10.1.2.3:8700:0, term=68, status=Follower receives message from new leader with the same term.}
I1218 01:38:32.534168 40206 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.1.3:8700:0 in term 68 current_term 68 log_is_ok 1 votable_time 0
I1218 01:38:33.179078 40195 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=60 last_include_log_term=67 from 10.1.2.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:38:33.203879 40193 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 68 current_term 68 granted 1 rejected_by_lease 0
I1218 01:38:34.449712 40216 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000060
I1218 01:38:34.451547 40216 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000060
I1218 01:38:34.554256 40193 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:38:34.603341 40214 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 61 time: 14248
I1218 01:38:34.684619 40193 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 60 last_included_term: 67 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 01:38:41.732426 40192 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 69 current_term 68 granted 1 rejected_by_lease 0
I1218 01:38:42.091946 40195 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 69 current_term 68 log_is_ok 1 votable_time 0
I1218 01:38:42.137996 40216 server.cpp:309] Node stops following { leader_id=10.1.2.3:8700:0, term=68, status=Raft node receives higher term request_vote_request.}
I1218 01:38:42.176954 40195 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 69 votedfor 0.0.0.0:0:0 time: 63229
I1218 01:38:42.260633 40195 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 69 votedfor 10.1.3.3:8700:0 time: 82079
I1218 01:38:42.879348 40214 node.cpp:1587] node Atomic:10.1.5.3:8700:0 term 69 start pre_vote
W1218 01:38:43.038725 40216 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.2.3:8700:0 error: [E111]Fail to connect Socket{id=466 addr=10.1.2.3:8700} (0x0x631000104ac0): Connection refused
W1218 01:38:43.041481 40192 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.1.3:8700:0 ctx_version 7 current_ctx_version 9
I1218 01:38:43.052547 40206 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=69, status=Follower receives message from new leader with the same term.}
W1218 01:38:43.486034 40192 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.3.3:8700:0 ctx_version 7 current_ctx_version 9
I1218 01:38:43.884552 40193 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000061' with fd=7
I1218 01:38:43.925107 40193 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
W1218 01:38:43.949594 40216 input_messenger.cpp:381] Fail to read from Socket{id=470 fd=12 addr=10.1.4.3:8700:60834} (0x6310001055c0): Connection reset by peer [104]
W1218 01:38:43.962072 40216 node.cpp:1567] node Atomic:10.1.5.3:8700:0 request PreVote from 10.1.4.3:8700:0 error: [E104]Fail to read from Socket{id=470fd=12 addr=10.1.4.3:8700:60834} (0x0x6310001055c0): Connection reset by peer
I1218 01:38:44.228951 40206 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:38:46.080286 40216 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
E1218 01:38:46.094055 40216 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:38:46.095793 40216 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 01:38:46.147958 40216 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
W1218 01:38:46.149726 40216 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
I1218 01:38:46.177672 40216 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=69, status=Raft node(leader or candidate) is in error.}
W1218 01:38:46.479535 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:38:47.376658 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:38:48.043680 40216 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:38:48.601138 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:38:49.142896 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:38:49.685575 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:38:50.285024 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:38:50.837599 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:38:51.374097 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:38:51.916415 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:38:52.488395 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:38:53.053586 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:38:53.563764 40501 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:38:53.602133 40501 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:38:53.648135 40501 server.cpp:499] Fail to start Server
W1218 01:38:59.305629 40195 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:38:59.817816 40193 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:01.121078 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:01.474846 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:01.857656 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:02.002904 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:02.429807 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:02.542114 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:02.967808 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:03.121685 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:03.522644 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:03.748713 40216 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:04.064388 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:04.284426 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:04.608453 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:04.900705 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:05.212945 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:05.486234 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:05.781441 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:06.053480 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:06.371023 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:06.574126 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:06.928725 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:07.136739 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:07.476397 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:07.684839 40216 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:08.032455 40216 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:08.239773 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:08.572945 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:08.780608 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:09.092744 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:09.350790 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:09.652276 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:09.945986 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:10.300403 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:10.542761 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:10.875003 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:11.080545 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR

=================================================================
==40501==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fdbb3b8909a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fdbb3b8909a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fdbb3b8909a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:39:15.157317 40723 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:39:15.885176 40679 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:39:15.904284 40679 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:39:15.906277 40679 server.cpp:499] Fail to start Server
W1218 01:39:17.046897 40195 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:18.033003 40192 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:18.506300 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:18.937053 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:19.130623 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:19.513087 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:19.703716 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:20.065569 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:20.243548 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:20.593545 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:20.766141 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:21.119040 40216 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:21.308393 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:21.671806 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:21.884848 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:22.316376 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:22.420440 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:22.970047 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:23.033449 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:23.536064 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:23.567593 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:24.051697 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:24.099534 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:24.601047 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:24.636173 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:25.196406 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:25.190122 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:25.753176 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:25.755548 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:26.676523 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:26.719401 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:27.283440 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:27.309484 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:27.851652 40216 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:39:27.851919 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR

=================================================================
==40679==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f3708c1b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f3708c1b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f3708c1b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:39:39.219657 40214 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:39:55.956043 41079 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:39:55.967372 41079 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:39:55.969292 41079 server.cpp:499] Fail to start Server
W1218 01:40:01.013053 40216 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:01.065124 40193 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:01.241674 40195 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:01.392553 40192 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:01.421598 40214 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:01.849462 40195 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:01.947535 40192 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:02.441169 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:02.994997 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:03.492249 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:03.612638 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:04.061444 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:04.154919 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:04.616223 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:04.684592 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:05.151455 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:05.277297 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:05.668875 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:05.793478 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:06.249006 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:06.415275 40195 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:06.775950 40216 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:06.945392 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:07.322705 40193 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:07.501205 40192 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:07.929203 40206 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
W1218 01:40:08.052608 40214 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 69 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:40:33.480312 41513 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:40:33.961701 41513 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:40:33.964812 41513 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:40:34.135723 41513 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:40:34.138089 41513 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:40:34.249495 41513 log.cpp:699] ./data/log is empty
I1218 01:40:34.313148 41513 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 60769
I1218 01:40:34.366851 41513 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:40:34.492344 41513 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:40:34.577239 41513 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 2251
I1218 01:40:34.612040 41513 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:40:34.637157 41513 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:40:37.732652 41593 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:40:37.884992 41593 snapshot_executor.cpp:154] node Atomic:10.1.5.3:8700:0 the gap between fsm applied index 0 and last_snapshot_index 0 is less than 1, will clear bufferred logs and return success
I1218 01:40:42.528506 41562 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 74 current_term 1 granted 1 rejected_by_lease 0
I1218 01:40:42.907409 41572 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 74 current_term 1 log_is_ok 1 votable_time 0
I1218 01:40:42.980693 41572 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 74 votedfor 0.0.0.0:0:0 time: 70294
I1218 01:40:43.057008 41572 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 74 votedfor 10.1.3.3:8700:0 time: 73977
I1218 01:40:43.503558 41572 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=74, status=Follower receives message from new leader with the same term.}
I1218 01:41:08.640143 41577 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:41:08.637982 41572 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=64 last_include_log_term=71 from 10.1.3.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:41:08.777812 41577 snapshot_executor.cpp:154] node Atomic:10.1.5.3:8700:0 the gap between fsm applied index 0 and last_snapshot_index 0 is less than 1, will clear bufferred logs and return success
I1218 01:41:08.781239 41582 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 75 current_term 74 granted 1 rejected_by_lease 0
I1218 01:41:08.855751 41585 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 75 current_term 74 granted 1 rejected_by_lease 0
I1218 01:41:08.863830 41594 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 75 current_term 74 granted 1 rejected_by_lease 0
I1218 01:41:08.875689 41564 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 75 current_term 74 granted 1 rejected_by_lease 0
W1218 01:41:08.858322 41585 baidu_rpc_protocol.cpp:349] Fail to write into Socket{id=280 fd=10 addr=10.1.4.3:46204:8700} (0x6310000b4ac0): Unknown error 1014 [1014]
W1218 01:41:08.899291 41582 baidu_rpc_protocol.cpp:349] Fail to write into Socket{id=279 fd=8 addr=10.1.2.3:45812:8700} (0x6310000b4800): Unknown error 1014 [1014]
I1218 01:41:09.550163 41590 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.1.3:8700:0 in term 75 current_term 74 granted 1 rejected_by_lease 0
I1218 01:41:09.595929 41593 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.2.3:8700:0 in term 75 current_term 74 log_is_ok 1 votable_time 0
I1218 01:41:09.603407 41574 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=74, status=Raft node receives higher term request_vote_request.}
I1218 01:41:09.630079 41585 snapshot_executor.cpp:617] node Atomic:10.1.5.3:8700:0 Trying to cancel downloading snapshot : group_id: "Atomic" server_id: "10.1.3.3:8700:0" peer_id: "10.1.5.3:8700:0" term: 74 meta { last_included_index: 64 last_included_term: 71 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0" } uri: "remote://10.1.3.3:8700/1309185752855078903"
W1218 01:41:09.620273 41593 snapshot.cpp:819] Fail to copy meta file : Operation canceled
I1218 01:41:09.684866 41585 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 75 votedfor 0.0.0.0:0:0 time: 26497
I1218 01:41:09.742892 41585 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 75 votedfor 10.1.2.3:8700:0 time: 55601
I1218 01:41:09.860898 41594 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 75 current_term 75 granted 1 rejected_by_lease 0
I1218 01:41:10.449687 41594 server.cpp:312] Node start following { leader_id=10.1.2.3:8700:0, term=75, status=Follower receives message from new leader with the same term.}
I1218 01:41:10.741353 41585 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=66 last_include_log_term=74 from 10.1.2.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:41:11.208287 41594 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000066
I1218 01:41:11.209702 41594 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000066
I1218 01:41:11.258018 41564 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:41:11.289469 41564 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 66 last_included_term: 74 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 01:41:11.309824 41582 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 67 time: 33611
I1218 01:41:11.478776 41593 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000067' with fd=8
I1218 01:41:11.529830 41593 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:41:38.790632 41582 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
E1218 01:41:39.221589 41582 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:41:39.283172 41582 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 01:41:39.311332 41564 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
W1218 01:41:39.312997 41564 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
I1218 01:41:39.326983 41564 server.cpp:309] Node stops following { leader_id=10.1.2.3:8700:0, term=75, status=Raft node(leader or candidate) is in error.}
W1218 01:41:39.837133 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:41:40.428845 41590 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:41:40.952512 41564 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:41:47.834307 42311 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:41:48.027884 42311 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:41:48.029372 42311 server.cpp:499] Fail to start Server
W1218 01:41:48.104496 41577 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:41:55.468564 41561 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:41:56.437029 41590 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:41:56.928344 41574 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:06.152719 41564 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:42:07.200518 42499 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:42:07.286686 42499 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:42:07.288465 42499 server.cpp:499] Fail to start Server
W1218 01:42:10.912870 41585 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:11.685091 41577 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR

=================================================================
==42311==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
W1218 01:42:18.049625 41561 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:18.059264 41585 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:18.012465 41577 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:18.144156 41585 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fb07ba8109a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fb07ba8109a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
W1218 01:42:18.629479 41564 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
W1218 01:42:18.677907 41574 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fb07ba8109a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:42:19.192708 41574 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:19.303818 41574 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:19.744387 41577 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:19.840934 41577 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:20.280210 41577 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:20.397496 41577 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:20.892905 41577 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:21.008625 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:21.441315 41563 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:21.566264 41590 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:21.976747 41590 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:22.133873 41590 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:22.516906 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:22.764779 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR

=================================================================
==42499==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f797c67509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
W1218 01:42:23.099712 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f797c67509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f797c67509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:42:23.400532 41593 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:23.624480 41576 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:23.935267 41582 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:24.200307 41590 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:24.468564 41590 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:24.739360 41590 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:25.019119 41590 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:25.284267 41593 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:25.664816 41593 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:25.885761 41594 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:26.265192 41585 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:26.547295 41590 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:26.797139 41590 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:27.121727 41576 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:27.369069 41576 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:27.654762 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:27.893664 41563 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:28.232447 41564 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:28.441731 41564 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:28.775235 41593 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:29.008352 41582 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:29.333591 41582 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:29.537686 41577 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:30.099900 41590 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:30.473316 41594 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:30.692704 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:31.104203 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:31.260197 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:31.703893 41564 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:31.868090 41564 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:32.260236 41574 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:32.542752 41582 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:32.877449 41585 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:33.124884 41563 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:33.437114 41563 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:33.676983 41563 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:34.009101 41594 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:34.208814 41576 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:34.547287 41577 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:34.764600 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:35.087371 41593 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:35.329263 41590 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:35.728260 41590 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:35.868026 41582 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:36.300043 41582 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:36.414988 41593 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:36.860621 41593 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:36.968122 41593 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:37.439831 41593 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:37.671121 41593 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:37.982161 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:38.248294 41564 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:38.533392 41564 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:38.804591 41574 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:39.127823 41574 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:39.340418 41574 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:39.666342 41582 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:39.857494 41585 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:40.212297 41563 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:40.390789 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:40.746222 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:40.929224 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:41.303865 41594 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:41.479560 41576 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:41.821954 41576 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:42.015974 41577 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:42.348733 41563 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:42.555688 41582 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:42.892622 41564 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:43.465277 41585 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:43.488216 41577 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:44.063462 41577 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:44.089150 41561 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
W1218 01:42:54.998936 41561 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 75 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:44:06.285446 43850 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:44:06.983937 43850 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:44:06.985687 43850 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:44:07.288345 43850 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:44:07.326977 43850 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:44:07.328440 43850 log.cpp:699] ./data/log is empty
I1218 01:44:07.414191 43850 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 83318
I1218 01:44:07.437278 43850 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:44:07.448818 43850 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:44:07.464062 43850 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 2725
I1218 01:44:07.468545 43850 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:44:07.483363 43850 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:44:08.117532 43918 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 79 current_term 1 granted 1 rejected_by_lease 0
I1218 01:44:08.512313 43934 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 79 current_term 1 log_is_ok 1 votable_time 0
I1218 01:44:08.553025 43934 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 79 votedfor 0.0.0.0:0:0 time: 38416
I1218 01:44:08.593119 43934 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 79 votedfor 10.1.3.3:8700:0 time: 19917
I1218 01:44:08.978098 43913 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=79, status=Follower receives message from new leader with the same term.}
I1218 01:44:09.355149 43924 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=70 last_include_log_term=78 from 10.1.3.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:44:11.079166 43913 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000070
I1218 01:44:11.141836 43913 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000070
I1218 01:44:11.664435 43918 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:44:11.749781 43918 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 70 last_included_term: 78 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 01:44:11.800725 43913 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 71 time: 50265
I1218 01:44:11.897600 43934 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000071' with fd=8
I1218 01:44:11.962183 43923 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:44:16.319633 43934 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:44:16.748620 43934 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000071
I1218 01:44:16.750025 43934 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000071
I1218 01:44:16.811920 43934 snapshot.cpp:523] Deleting ./data/snapshot/snapshot_00000000000000000070
I1218 01:44:17.125656 43934 snapshot_executor.cpp:234] node Atomic:10.1.5.3:8700:0 snapshot_save_done, last_included_index=71 last_included_term=79
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:44:27.393927 44076 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:44:27.474186 44076 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:44:27.509550 44076 server.cpp:499] Fail to start Server
I1218 01:44:35.013651 43934 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.1.3:8700:0 in term 80 current_term 79 granted 1 rejected_by_lease 0
I1218 01:44:35.100298 43924 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 80 current_term 79 granted 1 rejected_by_lease 0
I1218 01:44:36.067255 43923 node.cpp:1587] node Atomic:10.1.5.3:8700:0 term 79 start pre_vote
I1218 01:44:36.058063 43934 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=79, status=Lost connection from leader 10.1.3.3:8700:0}
I1218 01:44:36.235229 43918 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.1.3:8700:0 in term 80 current_term 79 log_is_ok 1 votable_time 0
W1218 01:44:36.237838 43918 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:44:36.297847 43918 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:44:36.302137 43918 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 80 votedfor 0.0.0.0:0:0 time: 65000
E1218 01:44:36.427997 43918 node.cpp:1816] node Atomic:10.1.5.3:8700:0 fail to set_term_and_votedfor when step_down, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
W1218 01:44:36.448522 43918 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:44:36.449222 43918 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:44:36.450204 43918 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 80 votedfor 10.1.1.3:8700:0 time: 2145
E1218 01:44:36.483685 43918 node.cpp:2244] node Atomic:10.1.5.3:8700:0 refuse to vote for 10.1.1.3:8700:0 because failed to set_votedfor it, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
W1218 01:44:36.523610 43913 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.2.3:8700:0 ctx_version 5 current_ctx_version 7
W1218 01:44:36.580214 43908 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.1.3:8700:0 ctx_version 5 current_ctx_version 7
W1218 01:44:36.581969 43924 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.4.3:8700:0 ctx_version 5 current_ctx_version 7
W1218 01:44:36.691335 43934 node.cpp:1479] node Atomic:10.1.5.3:8700:0 received invalid PreVoteResponse from 10.1.3.3:8700:0 ctx_version 5 current_ctx_version 7
I1218 01:44:36.955514 43934 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 80 current_term 80 log_is_ok 1 votable_time 0
W1218 01:44:36.957082 43934 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:44:36.972617 43934 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:44:36.973345 43934 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 80 votedfor 10.1.3.3:8700:0 time: 16650
E1218 01:44:36.993674 43934 node.cpp:2244] node Atomic:10.1.5.3:8700:0 refuse to vote for 10.1.3.3:8700:0 because failed to set_votedfor it, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
I1218 01:44:37.469127 43913 server.cpp:312] Node start following { leader_id=10.1.1.3:8700:0, term=80, status=Follower receives message from new leader with the same term.}
I1218 01:44:38.078401 43924 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:44:46.437973 43924 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
E1218 01:44:46.439951 43924 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:44:46.441135 43924 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 01:44:46.443538 43924 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
W1218 01:44:46.445021 43924 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
I1218 01:44:46.446642 43924 server.cpp:309] Node stops following { leader_id=10.1.1.3:8700:0, term=80, status=Raft node(leader or candidate) is in error.}

=================================================================
==44076==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7feada1cc09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7feada1cc09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7feada1cc09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:45:02.916494 44394 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:45:02.960070 44394 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:45:02.961966 44394 server.cpp:499] Fail to start Server
W1218 01:45:08.225881 43923 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:08.687938 43908 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:09.053755 43924 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:09.881335 43913 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:10.349521 43913 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:10.472774 43929 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:11.320577 43929 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:11.610137 43913 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:12.144887 43908 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:12.268411 43908 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:12.728678 43908 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:12.800350 43908 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:13.292112 43918 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:13.344075 43924 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR

=================================================================
==44394==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7efc4f2b309a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7efc4f2b309a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7efc4f2b309a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:45:25.331763 44575 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:45:25.361451 44575 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:45:25.365048 44575 server.cpp:499] Fail to start Server
W1218 01:45:28.301923 43908 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:33.868768 43934 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:33.880931 43934 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:34.172348 43923 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:34.452589 43923 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:34.585556 43929 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:34.821014 43924 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:35.945132 43924 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:36.340194 43913 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:36.686774 43908 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:37.327086 43934 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:37.321542 43913 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:37.908932 43924 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:37.908986 43929 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:38.492537 43924 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:38.497208 43908 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:39.071374 43918 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:39.133175 43934 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:39.648633 43924 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:39.739025 43924 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:40.214078 43924 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:40.288183 43924 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:40.789907 43924 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:41.045075 43913 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:41.612679 43934 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:41.647630 43934 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:42.182313 43924 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:42.231335 43908 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR

=================================================================
==44575==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fc2ff48a09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
W1218 01:45:42.965044 43929 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fc2ff48a09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fc2ff48a09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:45:43.036540 43913 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:43.495992 43918 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:43.580767 43918 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:44.021850 43923 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:44.144532 43923 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:44.585121 43923 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:44.677244 43918 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:45.144007 43934 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:45.208779 43934 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:45.705446 43923 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:45.776345 43929 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:46.527840 43923 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:46.530244 43929 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:47.056802 43913 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:47.071959 43913 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:47.591068 43934 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:47.593387 43934 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:48.173101 43929 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:48.177825 43929 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:48.718356 43923 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
W1218 01:45:48.721410 43923 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 80 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:46:30.157457 45300 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:46:31.031256 45300 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:46:31.038264 45300 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:46:31.700750 45300 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:46:31.735510 45300 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:46:31.736965 45300 log.cpp:699] ./data/log is empty
I1218 01:46:31.913529 45300 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 174573
I1218 01:46:31.938658 45300 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:46:32.027096 45300 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:46:32.107487 45300 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 42126
I1218 01:46:32.109697 45300 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:46:32.179453 45300 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:46:38.758323 45358 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 83 current_term 1 granted 1 rejected_by_lease 0
I1218 01:46:38.799818 45353 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 83 current_term 1 granted 1 rejected_by_lease 0
I1218 01:46:39.068032 45351 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.2.3:8700:0 in term 83 current_term 1 log_is_ok 1 votable_time 0
I1218 01:46:39.200780 45351 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 83 votedfor 0.0.0.0:0:0 time: 130080
I1218 01:46:39.263528 45351 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 83 votedfor 10.1.2.3:8700:0 time: 59750
I1218 01:46:39.267649 45348 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 83 current_term 83 log_is_ok 1 votable_time 0
I1218 01:46:39.559434 45358 server.cpp:312] Node start following { leader_id=10.1.2.3:8700:0, term=83, status=Follower receives message from new leader with the same term.}
I1218 01:46:39.747644 45348 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=74 last_include_log_term=82 from 10.1.2.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:46:40.651715 45358 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000074
I1218 01:46:40.663127 45358 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000074
I1218 01:46:40.775460 45358 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:46:40.824944 45353 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 75 time: 17359
I1218 01:46:40.837333 45358 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 74 last_included_term: 82 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 01:46:40.989338 45352 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000075' with fd=8
I1218 01:46:41.009325 45352 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:46:59.511070 45352 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
E1218 01:46:59.666970 45352 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:46:59.672544 45352 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 01:46:59.736210 45348 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
W1218 01:46:59.737574 45348 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
I1218 01:46:59.811044 45348 server.cpp:309] Node stops following { leader_id=10.1.2.3:8700:0, term=83, status=Raft node(leader or candidate) is in error.}
W1218 01:47:07.778805 45351 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:08.284111 45358 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:47:08.429600 45700 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:47:08.801224 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:09.152628 45677 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:47:09.154240 45677 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:47:09.170636 45677 server.cpp:499] Fail to start Server
W1218 01:47:09.269001 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:09.424825 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:09.824537 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:10.047451 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:10.373344 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:10.610857 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:10.988420 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:11.156687 45352 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:11.560802 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:11.815455 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:12.100757 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:12.411650 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:12.657634 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:12.997166 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:13.237077 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:13.593426 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:14.168267 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:14.290302 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:14.833983 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:14.928638 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:15.417346 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:15.512858 45352 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:16.069168 45352 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:16.076601 45352 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:16.704546 45352 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:16.723619 45352 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:17.459725 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:17.464653 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:18.021369 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:18.067503 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:18.607844 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:18.717360 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:19.309345 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:19.422737 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:19.879061 45352 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:20.032315 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:20.410965 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:20.617838 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:20.968905 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:21.172183 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:21.493189 45352 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:21.706310 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:22.068706 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:22.256548 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:22.634467 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:22.905804 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:23.212898 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:23.452703 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:23.755520 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:24.022733 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR

=================================================================
==45677==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f0c9255409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f0c9255409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f0c9255409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:47:28.648094 45880 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:47:28.664129 45880 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:47:28.665802 45880 server.cpp:499] Fail to start Server
W1218 01:47:29.905514 45353 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:30.513010 45352 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:31.170843 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:31.744335 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:31.785640 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:32.284298 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:32.397068 45352 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:32.827881 45352 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:32.969092 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:33.429291 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:33.544991 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:33.961144 45352 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:34.104537 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:34.516533 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:34.708179 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:35.075201 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:35.244175 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:35.620618 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:35.780539 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:36.172201 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:36.320559 45352 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:36.716768 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:36.858258 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:37.258970 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:37.449028 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:37.817525 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:38.041983 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:38.460129 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:38.585839 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:39.062039 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:39.196888 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:39.697372 45353 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:39.852365 45351 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:40.245970 45352 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:40.415313 45348 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
W1218 01:47:40.812628 45358 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 83 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:48:20.664456 46371 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:48:21.532415 46371 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:48:21.579823 46371 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:48:22.387811 46371 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:48:22.390692 46371 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:48:22.392196 46371 log.cpp:699] ./data/log is empty
I1218 01:48:22.546962 46371 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 149029
I1218 01:48:22.551208 46371 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:48:22.616299 46371 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:48:22.625542 46371 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 3133
I1218 01:48:22.629848 46371 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:48:22.641146 46371 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:48:24.745851 46444 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:48:24.747790 46444 snapshot_executor.cpp:154] node Atomic:10.1.5.3:8700:0 the gap between fsm applied index 0 and last_snapshot_index 0 is less than 1, will clear bufferred logs and return success
I1218 01:48:54.880162 46446 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:48:54.963089 46446 snapshot_executor.cpp:154] node Atomic:10.1.5.3:8700:0 the gap between fsm applied index 0 and last_snapshot_index 0 is less than 1, will clear bufferred logs and return success
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:48:58.815017 46834 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:48:58.841800 46834 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:48:58.843967 46834 server.cpp:499] Fail to start Server
I1218 01:49:05.221935 46459 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 86 current_term 1 granted 1 rejected_by_lease 0
I1218 01:49:05.764734 46464 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 86 current_term 1 log_is_ok 1 votable_time 0
W1218 01:49:05.779542 46464 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:49:05.781260 46464 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:49:05.815620 46464 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 86 votedfor 0.0.0.0:0:0 time: 44821
E1218 01:49:05.830901 46464 node.cpp:1816] node Atomic:10.1.5.3:8700:0 fail to set_term_and_votedfor when step_down, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
W1218 01:49:05.834048 46464 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:49:05.879531 46464 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:49:05.880466 46464 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 86 votedfor 10.1.3.3:8700:0 time: 46745
E1218 01:49:05.881831 46464 node.cpp:2244] node Atomic:10.1.5.3:8700:0 refuse to vote for 10.1.3.3:8700:0 because failed to set_votedfor it, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
I1218 01:49:05.967120 46431 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 86 current_term 86 granted 1 rejected_by_lease 0
I1218 01:49:06.687069 46427 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=86, status=Follower receives message from new leader with the same term.}
I1218 01:49:07.204695 46453 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=77 last_include_log_term=85 from 10.1.3.3:8700:0 when last_log_id=(index=0,term=0)
E1218 01:49:08.254312 46431 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:49:08.268883 46431 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 01:49:08.284719 46446 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create snapshot writer'}
W1218 01:49:08.285873 46446 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create snapshot writer'}
I1218 01:49:08.378333 46446 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=86, status=Raft node(leader or candidate) is in error.}
W1218 01:49:08.861114 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:08.932760 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:09.404484 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:09.475517 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:10.065127 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:10.119779 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:10.616473 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:10.659124 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:11.162318 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:11.195446 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:11.779295 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:11.807997 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:12.376036 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:12.378235 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR

=================================================================
==46834==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f124ca6b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
W1218 01:49:12.986064 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
W1218 01:49:13.011781 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
    #4 0x7f124ca6b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f124ca6b09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:49:13.554863 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:13.574288 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:14.104724 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:14.107281 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:14.665015 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:14.673857 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:15.269178 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:15.283355 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:15.844041 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:15.872674 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:16.376703 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:16.460506 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:16.925326 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:17.022258 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:17.505147 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:17.556252 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:18.091259 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:18.128310 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:18.641655 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:18.762171 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:19.173964 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:19.328702 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:19.736091 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:20.410845 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:20.411665 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:20.953704 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:21.001257 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:21.489333 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:21.578286 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:22.018051 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:22.124215 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:22.639056 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:22.709055 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:23.303125 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:23.305435 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:23.877456 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:23.913359 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:24.431991 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:24.483284 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:25.007054 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:25.109153 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:25.558689 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:25.660686 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:26.128356 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:26.214062 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:26.675285 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:26.784637 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:49:28.995437 47117 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:49:29.007330 47117 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:49:29.008929 47117 server.cpp:499] Fail to start Server
W1218 01:49:32.789392 46444 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:33.173652 46427 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:35.212450 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:35.632810 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:35.914173 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:36.177837 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:36.464535 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:36.756816 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:37.072991 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:37.336696 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:37.612337 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:37.875710 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:38.166775 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:38.429348 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:38.718374 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:38.996960 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:39.245385 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:39.551569 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:39.803499 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:40.097566 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:40.345309 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:40.648422 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:40.933214 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:41.228446 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:41.511881 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:41.785486 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:42.085997 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:42.320858 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:42.609364 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:42.918087 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:43.228226 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:43.582791 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:43.816313 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:44.162801 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:44.381606 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:44.700690 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:44.968389 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:45.287894 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:45.517483 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:46.470829 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:46.422891 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:47.141330 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:47.153472 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:47.702761 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:47.748944 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:48.291630 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:48.351142 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:48.875310 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:48.921334 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:49.433372 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:49.461980 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:49.972865 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:50.052949 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:49:54.168951 47338 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:49:54.324236 47338 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:49:54.325675 47338 server.cpp:499] Fail to start Server

=================================================================
==47117==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f29899b109a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f29899b109a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f29899b109a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:49:57.020635 46459 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:57.229596 46464 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:57.602752 46446 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:57.928584 46444 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:58.176626 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:58.633949 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:58.777060 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:59.234894 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:59.311828 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:59.775166 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:49:59.862360 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:00.584208 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:00.584621 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:01.157063 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:01.162786 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:01.716440 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:01.769992 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:02.264261 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:02.300715 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:02.792367 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:02.850358 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:03.363555 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:03.453974 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:03.952651 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:04.001811 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:04.547061 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:04.588415 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:05.128996 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:05.145016 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:05.776361 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:05.776787 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:06.314311 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:06.392395 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:06.950301 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:07.084332 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:07.576306 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:07.684813 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:08.120355 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:08.289011 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:08.640594 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:08.824447 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:09.182134 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:09.361034 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR

=================================================================
==47338==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f67a4bd609a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f67a4bd609a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f67a4bd609a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:50:09.737213 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:09.944015 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:10.272791 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:10.487561 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:10.794008 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:11.079824 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:11.374949 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:11.644774 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:12.002081 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:12.164618 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:12.557410 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:12.711030 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:13.133064 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:13.276232 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:13.692736 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:13.848248 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:14.232194 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:14.771253 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:14.769410 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:15.431726 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:15.465135 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:16.017033 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:16.040648 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:16.568857 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:16.571529 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:17.144687 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:17.159999 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:17.709149 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:17.740779 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:18.243522 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:18.312304 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:18.767534 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:18.842099 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:19.304589 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:19.376904 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:19.852941 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:19.903453 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:20.394156 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:20.447203 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:20.928553 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:20.968894 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:21.446323 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:21.513505 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:21.994974 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:22.033578 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:22.530294 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:22.553079 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:23.101241 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:23.116626 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:23.655073 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:23.665639 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:24.263145 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:24.304800 46427 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:24.789038 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:24.829121 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:25.333290 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:25.358798 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:25.866029 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:25.904690 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:26.385891 46464 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:26.893396 46459 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:27.335978 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:27.477113 46444 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:27.871184 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:28.008281 46431 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:28.442026 46453 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:28.544728 46446 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:38.559382 46446 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
W1218 01:50:44.675592 46464 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 86 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:51:46.195590 48567 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:51:46.720296 48567 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:51:46.721665 48567 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:51:47.068457 48567 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:51:47.126878 48567 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:51:47.128473 48567 log.cpp:699] ./data/log is empty
I1218 01:51:47.216082 48567 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 85575
I1218 01:51:47.244329 48567 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:51:47.275543 48567 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:51:47.295814 48567 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 11779
I1218 01:51:47.297937 48567 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:51:47.451622 48567 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:51:53.492712 48620 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 89 current_term 1 granted 1 rejected_by_lease 0
I1218 01:51:54.024515 48631 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 89 current_term 1 log_is_ok 1 votable_time 0
I1218 01:51:54.081071 48631 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 89 votedfor 0.0.0.0:0:0 time: 26794
I1218 01:51:54.144009 48631 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 89 votedfor 10.1.3.3:8700:0 time: 49755
I1218 01:51:54.416991 48623 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 90 current_term 89 granted 1 rejected_by_lease 0
I1218 01:51:54.702709 48620 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=89, status=Follower receives message from new leader with the same term.}
I1218 01:51:55.002791 48626 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=80 last_include_log_term=88 from 10.1.3.3:8700:0 when last_log_id=(index=0,term=0)
I1218 01:51:55.383598 48623 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000080
I1218 01:51:55.385457 48623 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000080
I1218 01:51:55.476032 48623 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:51:55.525359 48631 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 81 time: 23533
I1218 01:51:55.525540 48623 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 80 last_included_term: 88 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 01:51:55.679627 48618 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000081' with fd=7
I1218 01:51:55.717363 48618 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 01:51:56.579089 48610 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 01:51:56.756492 48610 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000081
I1218 01:51:56.757809 48610 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000081
I1218 01:51:56.778326 48610 snapshot.cpp:523] Deleting ./data/snapshot/snapshot_00000000000000000080
I1218 01:51:56.841216 48610 snapshot_executor.cpp:234] node Atomic:10.1.5.3:8700:0 snapshot_save_done, last_included_index=81 last_included_term=89
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:52:22.981904 48912 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:52:23.020828 48912 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:52:23.022181 48912 server.cpp:499] Fail to start Server
I1218 01:52:26.695554 48608 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
W1218 01:52:26.865895 48607 protobuf_file.cpp:45] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
E1218 01:52:26.872345 48607 log.cpp:1152] Fail to save meta to ./data/log/log_meta: No such file or directory [2]
I1218 01:52:26.876839 48607 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 82 time: 7356
E1218 01:52:26.877715 48607 log.cpp:855] Fail to save meta, path: ./data/log: No such file or directory [2]
I1218 01:52:26.858037 48608 snapshot_executor.cpp:154] node Atomic:10.1.5.3:8700:0 the gap between fsm applied index 81 and last_snapshot_index 81 is less than 1, will clear bufferred logs and return success
E1218 01:52:26.890640 48619 server.cpp:303] Met raft error {type=LogError, error_code=-1, error_text=`Failed operation on LogStorage'}
W1218 01:52:26.898829 48619 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=LogError, error_code=-1, error_text=`Failed operation on LogStorage'}
I1218 01:52:26.904107 48619 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=89, status=Raft node(leader or candidate) is in error.}
W1218 01:52:27.039254 48626 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:27.593137 48618 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:28.341688 48623 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:28.996609 48631 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:29.521066 48620 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:30.110829 48620 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:30.650058 48620 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:31.195832 48618 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:31.808713 48623 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:32.384719 48623 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:32.916167 48614 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:33.457650 48626 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:34.000867 48620 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:34.560101 48618 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:35.117871 48612 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:35.651790 48606 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:36.230331 48610 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:36.796984 48619 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:37.585147 48608 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:38.144833 48606 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR

=================================================================
==48912==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fd7ba48f09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fd7ba48f09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fd7ba48f09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:52:38.686959 48606 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
W1218 01:52:39.228962 48606 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 89 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:53:34.313681 49681 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:53:34.872354 49681 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:53:34.873653 49681 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:53:35.478073 49681 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:53:35.500893 49681 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:53:35.502312 49681 log.cpp:699] ./data/log is empty
I1218 01:53:35.605072 49681 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 100113
I1218 01:53:35.658047 49681 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:53:35.708745 49681 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:53:35.710844 49681 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 1902
I1218 01:53:35.712296 49681 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:53:35.714614 49681 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:53:42.364091 49735 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.1.3:8700:0 in term 90 current_term 1 granted 1 rejected_by_lease 0
I1218 01:53:42.446658 49731 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 90 current_term 1 granted 1 rejected_by_lease 0
I1218 01:53:42.451714 49749 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 90 current_term 1 granted 1 rejected_by_lease 0
I1218 01:53:42.584444 49734 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.2.3:8700:0 in term 90 current_term 1 log_is_ok 1 votable_time 0
I1218 01:53:42.605912 49734 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 90 votedfor 0.0.0.0:0:0 time: 18993
I1218 01:53:42.679850 49734 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 90 votedfor 10.1.2.3:8700:0 time: 62753
I1218 01:53:43.086369 49749 server.cpp:312] Node start following { leader_id=10.1.2.3:8700:0, term=90, status=Follower receives message from new leader with the same term.}
I1218 01:53:43.499398 49738 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=80 last_include_log_term=88 from 10.1.2.3:8700:0 when last_log_id=(index=0,term=0)
E1218 01:53:43.899683 49749 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:53:43.900882 49749 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 01:53:43.926035 49735 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create snapshot writer'}
W1218 01:53:43.927927 49735 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create snapshot writer'}
I1218 01:53:43.943487 49735 server.cpp:309] Node stops following { leader_id=10.1.2.3:8700:0, term=90, status=Raft node(leader or candidate) is in error.}
W1218 01:53:44.076673 49734 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:54.074780 49738 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:53:54.339079 49873 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:53:54.510290 49873 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:53:54.615806 49873 server.cpp:499] Fail to start Server
W1218 01:53:55.056241 49735 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:55.640666 49731 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:56.080474 49738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:56.356228 49752 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:56.630810 49735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:56.913476 49735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:57.198138 49749 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:57.457806 49731 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:57.767149 49731 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:58.013430 49752 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:58.336499 49734 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:58.560461 49735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:58.889585 49735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:59.248286 49738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:59.440496 49731 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:59.791275 49752 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:53:59.969535 49734 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:00.376989 49749 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:00.592423 49735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:00.905550 49735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:01.151387 49731 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:01.465380 49731 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:01.697863 49734 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:02.048743 49734 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:02.288573 49734 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:02.603418 49735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:02.860916 49735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:03.160768 49735 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:03.465533 49749 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:03.699674 49738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:04.100234 49734 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:04.317323 49752 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR

=================================================================
==49873==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fe7269f809a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fe7269f809a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fe7269f809a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:54:12.625360 49735 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:12.776832 49738 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:13.013689 49734 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:13.058920 49752 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:14.373976 49738 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:14.592995 49735 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:15.377403 49734 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:15.762142 49738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:15.962949 49738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:16.284706 49738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:16.503686 49738 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:16.806862 49752 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:17.040515 49734 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:17.394745 49749 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:54:25.844461 50222 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:54:27.421655 50204 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:54:27.424139 50204 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:54:27.425691 50204 server.cpp:499] Fail to start Server
W1218 01:54:33.716089 49735 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:34.303309 49745 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:34.828787 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:35.312606 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:35.487773 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:35.856422 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:36.043663 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:36.405293 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:36.573395 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:37.015385 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:37.107744 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:37.604187 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:37.647567 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:38.188508 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:38.191288 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:38.742105 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:38.768641 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:39.311704 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:39.312346 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:39.872938 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:39.900815 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:40.421308 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:40.473954 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:41.000715 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:41.059959 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR

=================================================================
==50204==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fb091fb009a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fb091fb009a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
W1218 01:54:41.520898 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fb091fb009a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:54:41.580521 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:42.049183 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:42.107196 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:42.640992 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:42.674685 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:43.239553 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:43.259334 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:43.904264 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:43.906281 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:44.869839 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:44.924129 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:45.602823 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:45.604925 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:46.260831 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:46.261917 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:46.852712 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:46.861929 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:47.414140 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:47.414155 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:47.936985 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:47.941756 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:48.477746 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:48.480136 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:49.040155 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:49.042070 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:49.573048 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:49.604338 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:50.105736 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:50.167470 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:50.641762 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:50.689558 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:51.213589 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:51.220458 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:51.836862 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:51.837642 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:52.369235 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:52.389729 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:52.952777 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:52.955515 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:53.530932 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:53.556533 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:54.081611 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:54.112597 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:54.649766 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:54.671366 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:55.234890 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:55.236392 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:55.813519 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:55.828876 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:56.421144 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:56.424630 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:57.053020 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:54:57.112926 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:05.516664 49745 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:07.314323 49699 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:55:08.544966 50563 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:55:08.650060 50563 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:55:08.663173 50563 server.cpp:499] Fail to start Server
W1218 01:55:11.295001 49745 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:11.637328 49745 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:11.709841 49736 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:12.644039 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:13.056449 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:13.425467 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:13.729856 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:13.991245 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:14.288415 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:14.535930 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:14.845937 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:15.126225 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:15.425881 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:15.664307 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:15.987272 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:16.244614 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:16.568445 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:16.777678 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:17.203735 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:17.360366 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:17.795485 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:17.948753 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:18.352859 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:18.500536 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:18.901379 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:19.091624 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:19.476322 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:19.660363 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:20.174847 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:20.233091 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:20.710857 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:20.828065 49765 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR

=================================================================
==50563==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fa2c186309a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fa2c186309a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fa2c186309a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:55:27.509759 49736 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:30.048640 49765 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:32.733743 49736 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:35.806243 49745 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:38.707584 49765 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:41.063257 49765 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:55:49.959713 50986 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:55:49.995798 50986 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:55:49.997637 50986 server.cpp:499] Fail to start Server
W1218 01:55:56.037690 49745 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:56.417557 49765 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:56.637248 49736 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:56.737815 49765 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:56.788627 49736 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:57.387239 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:59.410223 49736 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:55:59.636507 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:56:00.024127 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
W1218 01:56:00.193567 49745 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 90 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:56:50.428692 51642 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:56:50.971940 51642 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:56:50.973512 51642 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:56:51.544076 51642 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:56:51.552763 51642 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:56:51.553966 51642 log.cpp:699] ./data/log is empty
I1218 01:56:51.661185 51642 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 95859
I1218 01:56:51.673599 51642 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:56:51.719825 51642 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:56:51.745148 51642 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 14622
I1218 01:56:51.759260 51642 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:56:51.839653 51642 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 01:56:59.107230 51695 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 97 current_term 1 granted 1 rejected_by_lease 0
I1218 01:57:05.095733 51682 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 97 current_term 1 granted 1 rejected_by_lease 0
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:57:07.751792 51832 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:57:07.804620 51832 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:57:07.807286 51832 server.cpp:499] Fail to start Server
I1218 01:57:10.205612 51706 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 97 current_term 1 granted 1 rejected_by_lease 0
I1218 01:57:11.617502 51691 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 97 current_term 1 log_is_ok 1 votable_time 0
W1218 01:57:11.693720 51691 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:57:11.696882 51691 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:57:11.747997 51691 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 97 votedfor 0.0.0.0:0:0 time: 54185
E1218 01:57:11.749876 51691 node.cpp:1816] node Atomic:10.1.5.3:8700:0 fail to set_term_and_votedfor when step_down, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
W1218 01:57:11.803447 51691 protobuf_file.cpp:45] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
E1218 01:57:11.841547 51691 raft_meta.cpp:542] Fail to save meta to ./data/raft_meta/raft_meta: No such file or directory [2]
I1218 01:57:11.842715 51691 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 97 votedfor 10.1.3.3:8700:0 time: 39393
E1218 01:57:11.941123 51691 node.cpp:2244] node Atomic:10.1.5.3:8700:0 refuse to vote for 10.1.3.3:8700:0 because failed to set_votedfor it, error: SingleMetaStorage failed to save pb meta, path: ./data/raft_meta
I1218 01:57:13.179422 51682 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=97, status=Follower receives message from new leader with the same term.}
I1218 01:57:13.492635 51691 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=86 last_include_log_term=95 from 10.1.3.3:8700:0 when last_log_id=(index=0,term=0)
E1218 01:57:13.843164 51690 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 01:57:13.850008 51690 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 01:57:13.864965 51695 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create snapshot writer'}
W1218 01:57:13.866375 51695 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create snapshot writer'}
I1218 01:57:13.869330 51695 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=97, status=Raft node(leader or candidate) is in error.}
W1218 01:57:14.341624 51706 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:14.592950 51691 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:14.953976 51691 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:15.140868 51691 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:15.513312 51690 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:15.688318 51690 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:16.179822 51690 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:16.297632 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:16.721257 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:16.852727 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:17.292661 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:17.430212 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:17.857491 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:17.999992 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:18.585263 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:18.662904 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:19.149770 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:19.200678 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:19.721854 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:19.753459 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:20.304733 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:20.380487 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:20.973861 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:20.980705 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:21.513414 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:21.629104 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:22.545399 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:22.551348 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:23.265288 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:23.344662 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR

=================================================================
==51832==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7fa143f6409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7fa143f6409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7fa143f6409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:57:27.549929 52024 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:57:27.615645 52024 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:57:27.651135 52024 server.cpp:499] Fail to start Server
W1218 01:57:29.857878 51687 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:30.221408 51698 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:30.783983 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:31.163547 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:31.422230 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:31.715109 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:31.964835 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:32.253829 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:32.495586 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:32.799461 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:33.043283 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:33.349486 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:33.612591 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:33.936940 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:34.167080 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:34.512053 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:34.720877 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:35.068389 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:35.554953 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:36.200881 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:36.203933 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:36.868402 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:36.871320 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:37.411782 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:37.414057 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:37.968937 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:38.020728 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:38.572002 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:38.665901 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:39.132227 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:39.258179 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:39.652876 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:39.804366 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:40.217229 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:40.357256 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:40.781417 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:40.963318 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:41.361106 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:41.596722 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:41.928299 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:42.168506 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:42.496843 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:42.742100 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:43.133746 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:43.313226 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:43.818017 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:43.859782 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:44.409143 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:44.435712 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:44.968007 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:44.970327 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:45.513957 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:45.516943 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:46.092573 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:46.094101 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:46.145205 51698 input_messenger.cpp:381] Fail to read from Socket{id=465 fd=7 addr=10.1.3.3:58646:8700} (0x631000104800): Connection reset by peer [104]

=================================================================
==52024==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f3844af509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f3844af509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f3844af509a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:57:52.627331 51694 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:53.463737 51707 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:57:53.450721 52217 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:57:53.546707 52217 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:57:53.583387 52217 server.cpp:499] Fail to start Server
W1218 01:57:54.028560 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:54.532390 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:54.580588 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:55.076267 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:55.176649 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:55.645974 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:55.703612 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:56.196528 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:56.233325 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:56.765122 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:56.772487 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:57.332554 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:57.360332 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:57.855507 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:57.924198 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:58.465075 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:58.473071 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:59.397236 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:59.401820 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:59.930308 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:57:59.948408 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:00.514748 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:00.517864 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:01.053270 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:01.068753 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:01.627862 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:01.630343 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:02.168947 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:02.172865 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:02.719627 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:02.743584 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:03.663748 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:03.654757 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:04.216879 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:04.219806 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:04.876901 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:04.879251 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:05.424716 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:05.427727 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:05.996739 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:06.023038 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:06.555644 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:06.577509 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:07.098357 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:07.181787 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:07.647689 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:07.721485 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR

=================================================================
==52217==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7ff49d10d09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7ff49d10d09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7ff49d10d09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:58:08.189725 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:08.258728 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:08.736408 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:08.815827 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:09.356702 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:09.383211 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:09.884634 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:09.927143 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:10.493866 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:10.508278 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:11.042065 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:11.065920 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:11.582026 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:11.582321 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:12.181810 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:12.177119 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:12.729358 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:12.752447 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:13.312683 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:13.332779 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:13.920787 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:13.929551 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:14.441105 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:14.490041 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:14.986986 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:15.126329 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:15.546295 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:15.672441 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:16.129266 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:16.209039 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:16.709439 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:16.750200 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:17.741807 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:17.775862 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:18.312575 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:18.343955 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:18.876259 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:18.938066 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:19.442523 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:19.492383 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:19.981737 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:20.021833 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:20.563283 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:20.564374 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:21.116614 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:21.119474 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:21.668408 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:21.671808 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:22.209084 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:22.296384 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:22.823539 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:22.852193 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:23.413014 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:23.416079 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:23.953871 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:23.979147 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:24.566102 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:24.577649 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:25.104916 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:25.111104 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:25.704423 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:25.728364 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:26.237426 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:26.277868 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:26.778836 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:26.990839 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:27.299266 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:27.558162 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:27.847779 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:28.100617 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:28.379110 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:28.726579 51687 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:28.920928 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:29.286659 51700 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:29.510282 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:29.894199 51698 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:30.054352 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:30.441619 51684 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:30.613005 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:31.644093 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:31.692072 51687 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:32.252776 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:32.300964 51700 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:32.816135 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:32.852870 51687 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:33.359833 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:33.425271 51703 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:33.894361 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:33.985076 51694 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:34.429629 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:34.580682 51687 node.cpp:2598] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:40.514914 51684 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:44.347913 51664 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:58:46.814921 51707 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:58:52.032650 52826 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 01:58:52.545683 51684 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:53.669307 52804 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 01:58:53.691763 52804 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 01:58:53.693692 52804 server.cpp:499] Fail to start Server
W1218 01:58:58.126119 51698 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:58.600972 51707 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:59.081132 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:59.565109 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:58:59.725737 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:00.123482 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:00.274180 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:00.700837 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:00.872915 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:01.284494 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:01.441711 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:01.834937 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:02.035506 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:02.397574 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:02.613914 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:03.000455 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:03.169749 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:03.577909 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:03.706907 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:04.161213 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:04.276283 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:04.916944 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:04.984794 51700 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:05.463243 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:05.624416 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:06.009119 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:06.216209 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:06.557431 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:06.780648 51699 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:07.113693 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:07.331300 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:07.638196 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:07.868831 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:08.193764 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:08.896103 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:08.880679 51703 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:09.446971 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:09.464644 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:10.002168 51687 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:10.123025 51686 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:10.560724 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:10.671550 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:11.108197 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:11.200767 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:11.661418 51684 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:11.829202 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR

=================================================================
==52804==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f39cef4609a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f39cef4609a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f39cef4609a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 01:59:12.248808 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:12.388425 51707 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:12.808526 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:12.952925 51694 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:13.345906 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
W1218 01:59:13.506675 51698 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 97 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 01:59:41.189544 53311 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 01:59:42.556383 53311 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 01:59:42.642980 53311 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 01:59:43.595835 53311 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 01:59:43.633734 53311 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 01:59:43.635680 53311 log.cpp:699] ./data/log is empty
I1218 01:59:43.713012 53311 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 75236
I1218 01:59:43.725263 53311 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 01:59:43.836743 53311 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 01:59:43.840790 53311 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 101514
I1218 01:59:43.848603 53311 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 01:59:43.852883 53311 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 02:00:09.091605 53384 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 02:00:09.175488 53360 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.2.3:8700:0 in term 102 current_term 1 granted 1 rejected_by_lease 0
I1218 02:00:09.301505 53384 snapshot_executor.cpp:154] node Atomic:10.1.5.3:8700:0 the gap between fsm applied index 0 and last_snapshot_index 0 is less than 1, will clear bufferred logs and return success
I1218 02:00:10.457988 53372 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 101 votedfor 0.0.0.0:0:0 time: 921131
W1218 02:00:10.879686 53365 baidu_rpc_protocol.cpp:349] Fail to write into Socket{id=94 fd=9 addr=10.1.3.3:53796:8700} (0x63100003cac0): Unknown error 1014 [1014]
I1218 02:00:10.894454 53365 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=101, status=Raft node receives message from new leader with higher term.}
I1218 02:00:10.896898 53365 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=101, status=Raft node receives message from new leader with higher term.}
W1218 02:00:10.916683 53372 baidu_rpc_protocol.cpp:349] Fail to write into Socket{id=94 fd=9 addr=10.1.3.3:53796:8700} (0x63100003cac0): Unknown error 1014 [1014]
I1218 02:00:11.222239 53371 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 102 votedfor 0.0.0.0:0:0 time: 326178
I1218 02:00:11.274158 53371 server.cpp:312] Node start following { leader_id=10.1.1.3:8700:0, term=102, status=Raft node receives message from new leader with higher term.}
I1218 02:00:11.279429 53383 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.1.3:8700:0 in term 102 current_term 102 log_is_ok 1 votable_time 0
I1218 02:00:11.410812 53379 server.cpp:309] Node stops following { leader_id=10.1.1.3:8700:0, term=102, status=Raft node votes for some candidate, step down to restart election_timer.}
I1218 02:00:11.451408 53383 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 102 votedfor 10.1.1.3:8700:0 time: 12572
I1218 02:00:11.455794 53373 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.1.3:8700:0 in term 102 current_term 102 granted 1 rejected_by_lease 0
I1218 02:00:11.473115 53378 server.cpp:312] Node start following { leader_id=10.1.1.3:8700:0, term=102, status=Follower receives message from new leader with the same term.}
I1218 02:00:12.219638 53384 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=92 last_include_log_term=101 from 10.1.1.3:8700:0 when last_log_id=(index=0,term=0)
I1218 02:00:13.249610 53384 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000092
I1218 02:00:13.259838 53384 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000092
I1218 02:00:13.416625 53384 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 02:00:13.506250 53378 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 93 time: 26414
I1218 02:00:13.508332 53384 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 92 last_included_term: 101 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 02:00:13.769562 53367 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000093' with fd=7
I1218 02:00:13.888768 53366 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 02:01:07.401310 54307 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 02:01:08.066180 54298 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 02:01:08.811998 54298 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 02:01:08.963032 54298 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 02:01:09.371562 54298 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 02:01:09.373785 54298 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 02:01:09.377561 54298 log.cpp:699] ./data/log is empty
I1218 02:01:09.445556 54298 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 65268
I1218 02:01:09.459661 54298 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 02:01:09.520102 54298 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 02:01:09.565392 54298 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 23395
I1218 02:01:09.607914 54298 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 02:01:09.720463 54298 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 02:01:15.965958 54349 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.1.3:8700:0 in term 103 current_term 1 granted 1 rejected_by_lease 0
I1218 02:01:17.667969 54371 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 02:01:17.675459 54371 snapshot_executor.cpp:154] node Atomic:10.1.5.3:8700:0 the gap between fsm applied index 0 and last_snapshot_index 0 is less than 1, will clear bufferred logs and return success
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 02:02:09.649879 55028 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 02:02:10.165520 55028 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 02:02:10.184916 55028 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 02:02:10.520779 55028 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 02:02:10.527127 55028 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 02:02:10.530006 55028 log.cpp:699] ./data/log is empty
I1218 02:02:10.581324 55028 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 49066
I1218 02:02:10.608419 55028 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 02:02:10.635921 55028 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 02:02:10.656306 55028 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 10365
I1218 02:02:10.660586 55028 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 02:02:10.694371 55028 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 02:02:12.060521 55059 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
I1218 02:02:12.062245 55059 snapshot_executor.cpp:154] node Atomic:10.1.5.3:8700:0 the gap between fsm applied index 0 and last_snapshot_index 0 is less than 1, will clear bufferred logs and return success
I1218 02:02:12.762179 55072 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.3.3:8700:0 in term 103 current_term 1 granted 1 rejected_by_lease 0
I1218 02:02:13.088776 55062 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.3.3:8700:0 in term 103 current_term 1 log_is_ok 1 votable_time 0
I1218 02:02:13.154844 55062 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 103 votedfor 0.0.0.0:0:0 time: 25915
I1218 02:02:13.195940 55062 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 103 votedfor 10.1.3.3:8700:0 time: 38334
I1218 02:02:13.611420 55072 server.cpp:312] Node start following { leader_id=10.1.3.3:8700:0, term=103, status=Follower receives message from new leader with the same term.}
I1218 02:02:13.937633 55080 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=92 last_include_log_term=101 from 10.1.3.3:8700:0 when last_log_id=(index=0,term=0)
I1218 02:02:14.456987 55062 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000092
I1218 02:02:14.465363 55062 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000092
I1218 02:02:14.562186 55062 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 02:02:14.617890 55081 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 93 time: 38167
I1218 02:02:14.638286 55062 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 92 last_included_term: 101 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 02:02:14.710191 55074 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000093' with fd=8
I1218 02:02:14.837355 55074 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 02:02:14.873153 55074 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 02:02:40.509013 55320 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 02:02:40.589634 55320 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 02:02:40.635826 55320 server.cpp:499] Fail to start Server
I1218 02:02:42.079167 55059 node.cpp:949] node Atomic:10.1.5.3:8700:0 starts to do snapshot
E1218 02:02:42.138144 55059 snapshot.cpp:188] Fail to create directory ./data/snapshot/temp, -4
E1218 02:02:42.168653 55059 snapshot.cpp:570] Fail to init writer in path ./data/snapshot/temp, CreateDirectory failed with path: ./data/snapshot/temp
E1218 02:02:42.188861 55059 server.cpp:303] Met raft error {type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
W1218 02:02:42.213897 55059 node.cpp:1319] node Atomic:10.1.5.3:8700:0 got error={type=SnapshotError, error_code=5, error_text=`Fail to create SnapshotWriter'}
I1218 02:02:42.358939 55059 server.cpp:309] Node stops following { leader_id=10.1.3.3:8700:0, term=103, status=Raft node(leader or candidate) is in error.}
W1218 02:02:42.629475 55080 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:43.211374 55074 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:43.834026 55062 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:44.391194 55072 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:45.437489 55072 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:46.216946 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:46.811512 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:47.400681 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:47.921198 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:48.460199 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:49.095906 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:49.666088 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:50.224491 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:50.784546 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:51.340684 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:51.591503 55044 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 02:02:51.912408 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:52.472888 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:53.040519 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:53.625859 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:54.192731 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:54.762746 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:55.337904 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:55.929061 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:56.516494 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:57.428900 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:58.108778 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:58.700951 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:02:59.320485 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR

=================================================================
==55320==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #5 0x7f1d5652f09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f1d5652f09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f1d5652f09a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 02:03:05.291653 55077 node.cpp:2088] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 02:03:05.507165 55530 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
E1218 02:03:05.537429 55530 server.cpp:1101] Fail to listen 0.0.0.0:8700
E1218 02:03:05.545238 55530 server.cpp:499] Fail to start Server
W1218 02:03:05.748450 55068 node.cpp:2155] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:06.142863 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:06.648082 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:06.676425 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:07.207131 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:07.274823 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:07.767529 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:08.031657 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:08.356212 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:08.649022 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:08.909888 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:09.290618 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:09.492359 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:09.880617 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:10.048321 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:10.435137 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:10.634229 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:11.016604 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:11.193104 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:11.564716 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:12.125416 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:12.144238 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:12.687834 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:12.747881 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:13.275583 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:13.371387 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:13.852739 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:14.100973 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:14.413079 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:14.704057 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:14.979415 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:15.296836 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:15.548306 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:15.858713 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:16.176774 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:16.393299 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:16.758248 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:16.909451 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:17.377298 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:17.499970 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:17.999222 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:18.056691 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:18.580340 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:18.679497 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:19.175472 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:19.223876 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:19.737980 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:19.820611 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:20.315878 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:20.363196 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:20.912290 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:20.925257 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:21.485888 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:21.552449 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:22.040939 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR

=================================================================
==55530==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaacffa in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:903:22
    #2 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #3 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #4 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
W1218 02:03:22.139793 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
    #5 0x7f4f2f47409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Direct leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xaa7f39 in brpc::ServerOptions::ServerOptions() /opt/fs/brpc/src/brpc/server.cpp:155:30
    #2 0xaa94d1 in brpc::Server::Server(brpc::ProfilerLinker) /opt/fs/brpc/src/brpc/server.cpp:409:9
    #3 0x740625 in main /opt/fs/braft/example/atomic/server.cpp:474:18
    #4 0x7f4f2f47409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

Indirect leak of 88 byte(s) in 1 object(s) allocated from:
    #0 0x73d63d in operator new(unsigned long) (/opt/fs/braft/example/atomic/atomic_server+0x73d63d)
    #1 0xba3588 in bthread_keytable_pool_init /opt/fs/brpc/src/bthread/key.cpp:446:18
    #2 0xaad009 in brpc::Server::StartInternal(butil::EndPoint const&, brpc::PortRange const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:904:9
    #3 0xaafd3f in brpc::Server::Start(butil::EndPoint const&, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1225:12
    #4 0xaafd3f in brpc::Server::Start(int, brpc::ServerOptions const*) /opt/fs/brpc/src/brpc/server.cpp:1244:12
    #5 0x740915 in main /opt/fs/braft/example/atomic/server.cpp:498:16
    #6 0x7f4f2f47409a in __libc_start_main /build/reproducible-path/glibc-2.28/csu/../csu/libc-start.c:308:16

SUMMARY: AddressSanitizer: 184 byte(s) leaked in 3 allocation(s).
W1218 02:03:22.661273 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:22.663657 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:23.193603 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:23.196081 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:23.729676 55077 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:23.730036 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:24.640817 55059 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
W1218 02:03:24.647570 55068 node.cpp:2375] node Atomic:10.1.5.3:8700:0 is not in active state current_term 103 state ERROR
WARNING: Logging before InitGoogleLogging() is written to STDERR
W1218 02:04:00.492324 56111 sampler.cpp:192] bvar is busy at sampling for 2 seconds!
W1218 02:04:00.946246 56086 bthread.cpp:409] Fail to set concurrency by tag: 0, tag concurrency must larger than old oncurrency. old concurrency: 24, new concurrency: 9
I1218 02:04:01.141120 56086 server.cpp:1208] Server[braft::RaftStatImpl+braft::FileServiceImpl+braft::RaftServiceImpl+braft::CliServiceImpl+example::AtomicServiceImpl] is serving on port=8700.
I1218 02:04:01.142532 56086 server.cpp:1211] Check out http://n5:8700 in web browser.
I1218 02:04:01.388870 56086 log.cpp:691] Use murmurhash32 as the checksum type of appending entries
W1218 02:04:01.391723 56086 protobuf_file.cpp:91] open file failed, path: ./data/log/log_meta: FILE_ERROR_NOT_FOUND
W1218 02:04:01.394008 56086 log.cpp:699] ./data/log is empty
I1218 02:04:01.444653 56086 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 1 time: 46703
I1218 02:04:01.449539 56086 snapshot.cpp:465] Deleting ./data/snapshot/temp
W1218 02:04:01.459442 56086 protobuf_file.cpp:91] open file failed, path: ./data/raft_meta/raft_meta: FILE_ERROR_NOT_FOUND
I1218 02:04:01.461163 56086 raft_meta.cpp:521] Loaded single stable meta, path ./data/raft_meta term 1 votedfor 0.0.0.0:0:0 time: 1815
I1218 02:04:01.463631 56086 node.cpp:608] node Atomic:10.1.5.3:8700:0 init, term: 1 last_log_id: (index=0,term=0) conf:  old_conf: 
I1218 02:04:01.465870 56086 server.cpp:509] Atomic service is running on 0.0.0.0:8700
I1218 02:04:06.361274 56158 node.cpp:2129] node Atomic:10.1.5.3:8700:0 received PreVote from 10.1.4.3:8700:0 in term 105 current_term 1 granted 1 rejected_by_lease 0
I1218 02:04:06.754060 56153 node.cpp:2211] node Atomic:10.1.5.3:8700:0 received RequestVote from 10.1.4.3:8700:0 in term 105 current_term 1 log_is_ok 1 votable_time 0
I1218 02:04:06.809944 56153 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 105 votedfor 0.0.0.0:0:0 time: 52340
I1218 02:04:06.857789 56153 raft_meta.cpp:546] Saved single stable meta, path ./data/raft_meta term 105 votedfor 10.1.4.3:8700:0 time: 42676
I1218 02:04:07.211951 56161 server.cpp:312] Node start following { leader_id=10.1.4.3:8700:0, term=105, status=Follower receives message from new leader with the same term.}
I1218 02:04:08.292613 56133 node.cpp:2634] node Atomic:10.1.5.3:8700:0 received InstallSnapshotRequest last_included_log_index=95 last_include_log_term=103 from 10.1.4.3:8700:0 when last_log_id=(index=0,term=0)
I1218 02:04:09.198206 56157 snapshot.cpp:647] Deleting ./data/snapshot/snapshot_00000000000000000095
I1218 02:04:09.199604 56157 snapshot.cpp:653] Renaming ./data/snapshot/temp to ./data/snapshot/snapshot_00000000000000000095
I1218 02:04:09.217207 56161 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 02:04:09.229998 56161 snapshot_executor.cpp:264] node Atomic:10.1.5.3:8700:0 snapshot_load_done, last_included_index: 95 last_included_term: 103 peers: "10.1.1.3:8700:0" peers: "10.1.2.3:8700:0" peers: "10.1.3.3:8700:0" peers: "10.1.4.3:8700:0" peers: "10.1.5.3:8700:0"
I1218 02:04:09.245486 56151 log.cpp:1153] log save_meta ./data/log/log_meta first_log_index: 96 time: 20815
I1218 02:04:09.504657 56155 log.cpp:114] Created new segment `./data/log/log_inprogress_00000000000000000096' with fd=8
I1218 02:04:09.584295 56135 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
I1218 02:04:09.585915 56135 server.cpp:306] Configuration of this group is 10.1.1.3:8700:0,10.1.2.3:8700:0,10.1.3.3:8700:0,10.1.4.3:8700:0,10.1.5.3:8700:0
